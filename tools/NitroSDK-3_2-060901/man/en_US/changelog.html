
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>NITRO-SDK CHANGELOG</TITLE>
</HEAD>
<BODY>
<HR>
<H1>NITRO-SDK Revision History</H1>
<HR>

<DL>
  <DT><A href="#sdk_3_02">NITRO-SDK 3.2 Release version</A> (8/28/2006)
  <DD><A href="#note42-01">Note 42-01: (CARD) Corrected function reference page for CARD_GetRomHeader.</A>
  <DD><A href="#note42-02">Note 42-02: (GX) Corrected AntiAlias sample demos.</A>
  <DD><A href="#note42-03">Note 42-03: (OS) Added buffer overflow check for function cost calculation.</A>
  <DD><A href="#note42-04">Note 42-04: (PM) Corrected issues associated with card removal during wireless communication.</A>
  <DD><A href="#note42-05">Note 42-05: (WM) Corrected sample demos</A>
  <DD><A href="#KnownIssues_3_02">Known issues in SDK 3.2 release version</A>
</DL>

<DL>
  <DT><A href="#sdk_3_02_rc2">NITRO-SDK 3.2 RC2</A> (8/17/2006)
  <DD><A href="#note41-01">Note 41-01: (CARD) Corrected the issue of the console not powering down when a card is removed during wireless communication.</A>
  <DD><A href="#note41-02">Note 41-02: (CP) Added wait processes inside the CP RestoreContext function.</A>
  <DD><A href="#note41-03">Note 41-03: (CP) Added a note regarding the use of dividers inside interrupts.</A>
  <DD><A href="#note41-04">Note 41-04: (CTRDG) Corrected a problem related to hot-swapping cartridges.</A>
  <DD><A href="#note41-05">Note 41-05: (OS) Added the OS_SleepThreadDirect function.</A>
  <DD><A href="#note41-06">Note 41-06: (OS) Changed internal thread switching.</A>
  <DD><A href="#note41-07">Note 41-07: (OS) Adjusted V count at time of startup.</A>
  <DD><A href="#note41-08">Note 41-08: (PRC) Made processing related to dividers thread safe.</A>
  <DD><A href="#note41-09">Note 41-09: (STD) Changed the specifications of character code conversion functions.</A>
  <DD><A href="#note41-10">Note 41-10: (WBT) Fixed the WBT_CMD_REQ_GET_BLOCK_DONE notification bug.</A>
  <DD><A href="#note41-11">Note 41-11: (WBT) Corrected sample demos</A>
  <DD><A href="#note41-12">Note 41-12: (WM) Revised the WM_SetWEPKey/Ex function.</A>
  <DD><A href="#note41-13">Note 41-13: (WM) Changed the reset processing of wepMode.</A>
  <DD><A href="#note41-14">Note 41-14: (WM) Corrected a problem related to wepMode settings.</A>
  <DD><A href="#note41-15">Note 41-15: (WM) Corrected sample demos</A>
  <DD><A href="#KnownIssues_3_02_rc2">Known problems with SDK 3.2 RC2</A>
</DL>

<DL>
  <DT><A href="#sdk_3_02_rc">NITRO-SDK 3.2 RC</A> (7/25/2006)
  <DD><A href="#note40-01">Note 40-01: (CARD) Corrected the issue of the console not powering down when a card was removed.</A>
  <DD><A href="#note40-02">Note 40-02: (DevEnv) Flaw in the ITCM/DTCM size check using template files.</A>
  <DD><A href="#note40-03">Note 40-03: (MATH) Corrected the MATHCompareFunc function reference page</A>
  <DD><A href="#note40-04">Note 40-04: (MATH) Changed MATH_QSortStackSize function.</A>
  <DD><A href="#note40-05">Note 40-05: (MB) Corrected multiboot-PowerSave sample.</A>
  <DD><A href="#note40-06">Note 40-06: (MB) Changed the runtime defaults.</A>
  <DD><A href="#note40-07">Note 40-07: (STD) Changed the character code conversion functions.</A>
  <DD><A href="#note40-08">Note 40-08: (VIB) Changed the VIB library</A>
  <DD><A href="#note40-09">Note 40-09: (WM) Corrected sample demos</A>
  <DD><A href="#note40-10">Note 40-10: (WM) Prohibited new connections when communication ends.</A>
  <DD><A href="#KnownIssues_3_02_rc">Known issues in SDK 3.2 RC</A>
</DL>


<DL>
  <DT><A href="#sdk_3_02_pr">NITRO-SDK 3.2 PR</A> (7/7/2006)
  <DD><A href="#note39-01">Note 39-01: (CARD) Corrected card pull-out detection.</A>
  <DD><A href="#note39-02">Note 39-02: (CTRDG) Changed the AGB backup access function reference page.</A>
  <DD><A href="#note39-03">Note 39-03: (CTRDG) Revision of documents.</A>
  <DD><A href="#note39-04">Note 39-04: (DevEnv) Ended support of older CodeWarrior versions in shared definition files of the make system.</A>
  <DD><A href="#note39-05">Note 39-05: (MATH) Corrected the MATH_QSort  function.</A>
  <DD><A href="#note39-06">Note 39-06: (MI) Corrected a problem with out-of-bounds access when using LZ77 compression.</A>
  <DD><A href="#note39-07">Note 39-07: (MI) Added 8-bit versions of Endian conversion functions.</A>
  <DD><A href="#note39-08">Note 39-08: (OS) Corrected the OS_InitException function.</A>
  <DD><A href="#note39-09">Note 39-09: (OS) Changed the function cost calculation.</A>
  <DD><A href="#note39-10">Note 39-10: (PM) Corrected a problem where the system would not power down if a card was removed while the LCD was turned off.</A>
  <DD><A href="#note39-11">Note 39-11: (PM) Revised the PM_GoSleepMode function reference page.</A>
  <DD><A href="#note39-12">Note 39-12: (PM) Corrected a problem with the RTC alarm interrupt after recovering from sleep mode.</A>
  <DD><A href="#note39-13">Note 39-13: (STD) Corrected the STD_CopyLString Function Reference page.</A>
  <DD><A href="#note39-14">Note 39-14: (STD) Changed the specifications of STD_CopyLString and added STD_CopyLStringZeroFill.</A>
  <DD><A href="#note39-15">Note 39-15: (STD) Added conversion functions Shift_JIS &lt;-&gt; Unicode.</A>
  <DD><A href="#note39-16">Note 39-16: (TOOL) Support for new overlay-related function with CodeWarrior 2.x.</A>
  <DD><A href="#note39-17">Note 39-17: (TOOL) Changed the compstatic Function Reference page.</A>
  <DD><A href="#note39-18">Note 39-18: (TOOL) Support for new 1 Gbit/2 Gbit ROMs for makerom.</A> 
  <DD><A href="#note39-19">Note 39-19: (TOOL) Added checking for valid combinations of ROM parameters.</A>
  <DD><A href="#note39-20">Note 39-20: (WM) Changed the WFS sample demo</A>
  <DD><A href="#note39-21">Note 39-21: (WM) Changed the WM_EndDataSharing function.</A>
  <DD><A href="#note39-22">Note 39-22: (WM) Adjusted the link level value when communicating with the Wii console.</A>
  <DD><A href="#note39-23">Note 39-23: (WM) Corrected sample demos</A>
  <DD><A href="#note39-24">Note 39-24: (WM) Corrected a problem with initialization and shutdown functions.</A>
  <DD><A href="#note39-25">Note 39-25: (WM) Corrected a problem with port callback initialization inside the initialization function.</A>
  <DD><A href="#note39-26">Note 39-26: (WM) Corrected illegal operations during disconnection.</A>
  <DD><A href="#KnownIssues_3_02_pr">Known issues in SDK 3.2 PR</A>
</DL>

<DL>
  <DT><A href="#sdk_3_01">NITRO-SDK 3.1 Release version</A> (5/2/2006)
  <DD><A href="#note38-01">Note 38-01: (CARD) Made changes regarding DMA transfer from ROM</A>
  <DD><A href="#note38-02">Note 38-02: (CTRDG) Added AGB backup access functions</A>
  <DD><A href="#note38-03">Note 38-03: (CTRDG) Added the functions CTRDG_SetPhiClock and CTRDG_GetPhiClock</A>
  <DD><A href="#note38-04">Note 38-04: (FS) Internally changed the ROM archive</A>
  <DD><A href="#note38-05">Note 38-05: (FX) Changed the FX_Mul function</A>
  <DD><A href="#note38-06">Note 38-06: (FX) Changed the VEC_Normalize function</A>
  <DD><A href="#note38-07">Note 38-07: (GX) Added a description to the Function Reference page for G2_SetBlendAlpha</A>
  <DD><A href="#note38-08">Note 38-08: (MATH) Corrected the MATHCompareFunc function reference page</A>
  <DD><A href="#note38-09">Note 38-09: (MI) Corrected the compression problem with the MI_CompressLZ function</A>
  <DD><A href="#note38-10">Note 38-10: (OS) Changed the OS_GetConsleType function.</A>
  <DD><A href="#note38-11">Note 38-11: (OS) Corrected the sample demo exceptionDisplay-2</A>
  <DD><A href="#note38-12">Note 38-12: (PRC) Added figure dictionary data for demo</A>
  <DD><A href="#KnownIssues_3_01">Known issues in SDK 3.1 release version</A>
</DL>

<DL>
  <DT><A href="#sdk_3_01_rc">NITRO-SDK 3.1 RC</A> (4/11/2006)
  <DD><A href="#note37-01">Note 37-01: (CARD) Made Card Library compatible with new backup devices.</A>
  <DD><A href="#note37-02">Note 37-02: (DevEnv) Added .itcm.bss/.dtcm.bss/.wram.bss section</A>
  <DD><A href="#note37-03">Note 37-03: (DevEnv) Revised modulerules.cctype.CW</A>
  <DD><A href="#note37-04">Note 37-04: (FX) Added MTX_Copy* functions to the Function Reference.</A>
  <DD><A href="#note37-05">Note 37-05: (GX) Added G3OP_DUMMY_COMMAND</A>
  <DD><A href="#note37-06">Note 37-06: (GX) Changed the geometry command cycle list</A>
  <DD><A href="#note37-07">Note 37-07: (MI) Added endian-aware memory access functions</A>
  <DD><A href="#note37-08">Note 37-08: (OS) Corrected OS_CheckHeap</A>
  <DD><A href="#note37-09">Note 37-09: (OS) Changed arena overview</A>
  <DD><A href="#note37-10">Note 37-10: (OS) 8-byte alignment support for the stack</A>
  <DD><A href="#note37-11">Note 37-11: (PM) Corrected the PM_ForceToPowerOff and PM_ForceToPowerOffAsync functions</A>
  <DD><A href="#note37-12">Note 37-12: (SND) Added the SND_SetTrackMuteEx function</A>
  <DD><A href="#note37-13">Note 37-13: (TOOL) Changed Function Reference page for attachsign</A>
  <DD><A href="#note37-14">Note 37-14: (TOOL) Corrected a problem where PPM files could not be loaded using the ppmconv tool</A>
  <DD><A href="#note37-15">Note 37-15: (VIB) Changed the pulse_vib sample demo</A>
  <DD><A href="#note37-16">Note 37-16: (WM) Corrected the dataShare-Model sample demo</A>
  <DD><A href="#note37-17">Note 37-17: (WM) Added the wireless-all sample demo</A>
  <DD><A href="#note37-18">Note 37-18: (WM) Corrected sample demos</A>
  <DD><A href="#KnownIssues_3_01_rc">Known issues in SDK 3.1 RC</A>
</DL>

<DL>
  <DT><A href="#sdk_3_01_pr">NITRO-SDK 3.1 PR</A> (3/14/2006)
  <DD><A href="#note36-01">Note 36-01: (ARM7) Improved automatic pull-out detection of components</A>
  <DD><A href="#note36-02">Note 36-02: (CARD) Internal changes made to the CARD_CheckPulledOut function.</A>
  <DD><A href="#note36-03">Note 36-03: (CTRDG) Strengthened access restrictions to the AGB cartridge region</A>
  <DD><A href="#note36-04">Note 36-04: (CTRDG) Added the CTRDG_CheckPulledOut function.</A>
  <DD><A href="#note36-05">Note 36-05: (GX) Corrected 2D_CharBg_Direct sample demos</A>
  <DD><A href="#note36-06">Note 36-06: (GX) Edited Function Reference description for G2_GetBG2ScrPtr and G2_GetBG3ScrPtr functions</A>
  <DD><A href="#note36-07">Note 36-07: (MB) Added MB_FAKESCAN_PARENT_BEACON notification</A>
  <DD><A href="#note36-08">Note 36-08: (MB) Corrected the operation of MB_ReadMultiBootParentBssDesc</A>
  <DD><A href="#note36-09">Note 36-09: (MB) Corrected a problem with the number of retries when reconnecting to a clone boot sample parent</A>
  <DD><A href="#note36-10">Note 36-10: (MB) Updated documentation</A>
  <DD><A href="#note36-11">Note 36-11: (MIC) Described restrictions during automatic sampling</A>
  <DD><A href="#note36-12">Note 36-12: (PM) Corrected problem related to the PMAmpGain enumeration type</A>
  <DD><A href="#note36-13">Note 36-13: (PM) Changed the PM_ForceToPowerOff and PM_ForceToPowerOffAsync functions</A>
  <DD><A href="#note36-14">Note 36-14: - (TOOL)  Fixed the inclusion order within ROM when specifying files to makerom using wildcards.</A>
  <DD><A href="#note36-15">Note 36-15: (VIB) Added VIB library</A>
  <DD><A href="#note36-16">Note 36-16: (WBT) Corrected the WFS sample module</A>
  <DD><A href="#note36-17">Note 36-17: (WBT) Corrected Function Reference</A>
  <DD><A href="#note36-18">Note 36-18: (WBT) Added Overview to the Function Reference</A>
  <DD><A href="#note36-19">Note 36-19: (WM) Changed specifications regarding NULL response from children during MP communication</A>
  <DD><A href="#note36-20">Note 36-20: (WM) Changed WMGameInfo structure definitions</A>
  <DD><A href="#note36-21">Note 36-21: (WM) Added the WM_IsValidGameBeacon and WM_IsValidGameInfo functions</A>
  <DD><A href="#note36-22">Note 36-22: (WM) Corrected a problem with minPollBmpMode</A>
  <DD><A href="#note36-23">Note 36-23: (WM) Updated documentation</A>
  <DD><A href="#note36-24">Note 36-24: (Misc) Corrected description of macros</A>
  <DD><A href="#KnownIssues_3_01_pr">Known issues in SDK 3.1 PR</A>
</DL>

<DL>
  <DT><A href="#sdk_3_00">NITRO-SDK 3.0 Release version</A> (1/16/2006)
  <DD><A href="#note35-01">Note 35-01: (CARD) Added an overview to the Function Reference</A>
  <DD><A href="#note35-02">Note 35-02: (DevEnv) Added a Function Reference page for the packnlf tool</A>
  <DD><A href="#note35-03">Note 35-03: (DevEnv) Unified the source code format</A>
  <DD><A href="#note35-04">Note 35-04: (MI) Corrected LZ compression problems with the MI_CompressLZFast function and ntrcomp.exe</A>
  <DD><A href="#note35-05">Note 35-05: (OS) Corrected problems in the OS_ResetSystem function</A>
  <DD><A href="#note35-06">Note 35-06: (OS) Edited the Chinese version startup screen</A>
  <DD><A href="#note35-07">Note 35-07: (PRC) Added figure dictionary data for demo</A>
  <DD><A href="#note35-08">Note 35-08: (WM) Corrected the display of the debug string in the sample demo</A>
  <DD><A href="#note35-09">Note 35-09: (WM) Changed internal communication parameters</A>
  <DD><A href="#KnownIssues_3_00">Known issues in SDK 3.0 release version</A>
</DL>

<DL>
  <DT><A href="#sdk_3_00_rc3">NITRO-SDK 3.0 RC3</A> (12/26/2005)
  <DD><A href="#note34-01">Note 34-01: (MATH) Added bit operation function</A>
  <DD><A href="#note34-02">Note 34-02: (MB) Fixed a bug that occurred when designating memory conservation with the MB_ReadSegment function</A>
  <DD><A href="#note34-03">Note 34-03: (MB) Improved MP communication effectiveness under adverse conditions</A>
  <DD><A href="#note34-04">Note 34-04: (OS) Changed the CARD_CheckPulledOut function reference page</A>
  <DD><A href="#note34-05">Note 34-05: (OS) Corrected the OS_CreateThread function</A>
  <DD><A href="#note34-06">Note 34-06: (WBT) Corrected wbt-1 sample demos</A>
  <DD><A href="#note34-07">Note 34-07: (WBT) Corrected a problem with the user callbacks</A>
  <DD><A href="#note34-08">Note 34-08: (WM) Corrected a problem with MP communication parameters</A>
  <DD><A href="#note34-09">Note 34-09: (WM) Made changes to the method of setting the WH-related parameters</A>
  <DD><A href="#note34-10">Note 34-10: (WM) Improved internal operations during disconnect</A>
  <DD><A href="#KnownIssues_3_00_rc3">Known problems with SDK 3.0 RC3</A>
</DL>

<DL>
  <DT><A href="#sdk_3_00_rc2">NITRO-SDK 3.0 RC2</A> (12/05/2005)
  <DD><A href="#note33-01">Note 33-01: (CARD) Corrected problem with backup function</A>
  <DD><A href="#note33-02">Note 33-02: (CTRDG) Added access permission functions for AGB cartridges</A>
  <DD><A href="#note33-03">Note 33-03: (DevEnv) Added macro for comparing SDK versions</A>
  <DD><A href="#note33-04">Note 33-04: (DevEnv) Added SDK_INLINE, SDK_DECL_INLINE</A>
  <DD><A href="#note33-05">Note 33-05: (DevEnv) Corrected makebanner tool</A>
  <DD><A href="#note33-06">Note 33-06: (DevEnv) Updated ntexconv</A>
  <DD><A href="#note33-07">Note 33-07: (DevEnv) Added the packnlf tool</A>
  <DD><A href="#note33-08">Note 33-08: (MB) Corrected the MBP sample module</A>
  <DD><A href="#note33-09">Note 33-09: (MB) Added MB_FAKE_WORK_SIZE definition</A>
  <DD><A href="#note33-10">Note 33-10: (MB) Corrected problem with the parent beacon flag</A>
  <DD><A href="#note33-11">Note 33-11: (MI) Added the MI_CompressLZFast function</A>
  <DD><A href="#note33-12">Note 33-12: (OS) Added an automatic build switch for ARM7 debug output</A>
  <DD><A href="#note33-13">Note 33-13: (OS) Changed the definition of the VBlank wait function</A>
  <DD><A href="#note33-14">Note 33-14: (OS) Deleted  OS_InitPrintServer and OS_PrintServer from the sample demo</A>
  <DD><A href="#note33-15">Note 33-15: (OS) Deleted  PXI_Init from the sample demo</A>
  <DD><A href="#note33-16">Note 33-16: (OS) Changed SVC_WaitVBlankIntr in the sample demo</A>
  <DD><A href="#note33-17">Note 33-17: (OS) Changed the start location of extended main RAM arena</A>
  <DD><A href="#note33-18">Note 33-18: (WBT) Corrected the WFS sample module</A>
  <DD><A href="#note33-19">Note 33-19: (WBT) Changed the WFS-related sample demo</A>
  <DD><A href="#note33-20">Note 33-20: (WM) Corrected the 2D_CharBg_3 and Sub_CharBg_3 sample demos</A>
  <DD><A href="#note33-21">Note 33-21: (WM) Added a timing configuration function for MP communication</A>
  <DD><A href="#note33-22">Note 33-22: (WM) Added a function to configure the send size for MP communications</A>
  <DD><A href="#note33-23">Note 33-23: (WM) Added a spacing control function for MP communication</A>
  <DD><A href="#note33-24">Note 33-24: (WM) Updated the dataShare-Model sample demo</A>
  <DD><A href="#note33-25">Note 33-25: (WM) Corrected the display of the dataShare-Model sample demo</A>
  <DD><A href="#note33-26">Note 33-26: (WM) Added a way to set the maximum number of MP communications per frame.</A>
  <DD><A href="#note33-27">Note 33-27: (WM) Changed the specification for the receive signal strength level</A>
  <DD><A href="#note33-28">Note 33-28: (WM) Added an option for disabling the pre-check of the send/receive buffer size</A>
  <DD><A href="#note33-29">Note 33-29: (WM) Added a note regarding the wireless communication event counters</A>
  <DD><A href="#KnownIssues_3_00_rc2">Known problems with SDK 3.0 RC2</A>
</DL>

<DL>
  <DT><A href="#sdk_3_00_rc">NITRO-SDK 3.0 RC</A> (11/7/2005)
  <DD><A href="#note32-01">Note 32-01: (CARD) Changed internal processing of EEPROM device operations</A>
  <DD><A href="#note32-02">Note 32-02: (CARD) Added removal detection after ROM access</A>
  <DD><A href="#note32-03">Note 32-03: (CARD) Made Card Library compatible with new backup devices.</A>
  <DD><A href="#note32-04">Note32-04: (DevEnv) Corrected the #pragma define_section parameters</A>
  <DD><A href="#note32-05">Note 32-05: (DevEnv) Added a resource data conversion tool for the ENV library</A>
  <DD><A href="#note32-06">Note 32-06: (DevEnv) Corrected the NITRO-SDK Package creation script</A>
  <DD><A href="#note32-07">Note 32-07: (DevEnv) Changed the version of CodeWarrior used for SDK package build</A>
  <DD><A href="#note32-08">Note 32-08: (DevEnv) Added a reference to the compilation target</A>
  <DD><A href="#note32-09">Note 32-09: (ENV) Added a reference to the ENV library</A>
  <DD><A href="#note32-10">Note 32-10: (ENV) Changed the ENV library</A>
  <DD><A href="#note32-11">Note 32-11: (GX) Corrected the G3BS_LoadMtx43 function</A>
  <DD><A href="#note32-12">Note 32-12: (GX) Further corrections to Sub_Double3D sample demo.</A>
  <DD><A href="#note32-13">Note 32-13: (MATH) Corrected problem with the MATH_QSort  function.</A>
  <DD><A href="#note32-14">Note 32-14: (OS) Corrected the HI address calculations for the ARM7-specific WRAM arena</A>
  <DD><A href="#note32-15">Note 32-15: (OS) Created the OS_GetTotalOccupiedSize function</A>
  <DD><A href="#note32-16">Note 32-16: (OS) Corrected the OS_PutString function.</A>
  <DD><A href="#note32-17">Note 32-17: (OS) Added SDK_COMPILER_ASSERT</A>
  <DD><A href="#note32-18">Note 32-18: (OS) Improved the VBlank wait function</A>
  <DD><A href="#note32-19">Note 32-19: (OS) Changed the argument const of the cache function</A>
  <DD><A href="#note32-20">Note 32-20: (OS) Corrected the stack overflow check function</A>
  <DD><A href="#note32-21">Note 32-21: (OS) Support for the argument data buffer switch</A>
  <DD><A href="#note32-22">Note 32-22: (OS) Corrected the actual time and the check value conversion macro</A>
  <DD><A href="#note32-23">Note 32-23: (OS) Updated the Chinese version&rsquo;s startup screen</A>
  <DD><A href="#note32-24">Note 32-24: (OS) Corrected thread queue operations, including threads about to terminate</A>
  <DD><A href="#note32-25">Note 32-25: (PRC) Corrected the sample tool &ldquo;pdic2c.pl&rdquo;</A>
  <DD><A href="#note32-26">Note 32-26: (RTC) Changed the method for getting RTC day of the week information</A>
  <DD><A href="#note32-27">Note 32-27: (SND) Corrected a problem where the SND_CalcDecibel function would not return a suitable value when the argument 0 had been entered</A>
  <DD><A href="#note32-28">Note 32-28: (STD) Added STD library</A>
  <DD><A href="#note32-29">Note 32-29: (WBT) Corrected a problem with GetBlock request notifications</A>
  <DD><A href="#note32-30">Note 32-30: (WBT) Corrected the WFS sample module</A>
  <DD><A href="#note32-31">Note 32-31: (WM) Updated the WM test tool</A>
  <DD><A href="#note32-32">Note 32-32: (WM) Corrected the description on the WM_SetLifeTime Function Reference page</A>
  <DD><A href="#note32-33">Note 32-33: (WM) Improved mongoose components</A>
  <DD><A href="#note32-34">Note 32-34: (WM) Added information in the notification to the port receive callback</A>
  <DD><A href="#note32-35">Note 32-35: (WM) Added notification when the port receive callback initializes</A>
  <DD><A href="#note32-36">Note 32-36: (WM) Added API for tests</A>
  <DD><A href="#note32-37">Note 32-37: (WM) Corrected a problem where the wireless connection function stops when a child device calls the WM_EndMP function</A>
  <DD><A href="#note32-38">Note 32-38: (WM) Added a disconnection notification when the local player disconnects</A>
  <DD><A href="#note32-39">Note 32-39: (WM) Fixed internal operations again for connecting and disconnecting</A>
  <DD><A href="#KnownIssues_3_00_rc">Known issues in SDK 3.0 RC</A>
</DL>

<DL>
  <DT><A href="#sdk_3_00_pr4">¦NITRO-SDK 3.0 PR4</A> (9/8/2005)
  <DD><A href="#note31-01">Note 31-01: (CARD) Added CARD_CancelBackupAsync function </A>
  <DD><A href="#note31-02">Note 31-02: (CARD) Fixed internal process in FRAM device operation </A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 release version)</font size>
  <DD><A href="#note31-03">Note 31-03: (CARD) Added CARD_RESULT_NO_RESPONSE error code </A>
  <DD><A href="#note31-04">Note 31-04: (DevEnv) Support for overlay groups in lsf files </A>
  <DD><A href="#note31-05">Note 31-05: (DevEnv) Fixed bug in certain section names of makelcf </A>
  <DD><A href="#note31-06">Note 31-06: (DevEnv) Corrected makelcf </A>
  <DD><A href="#note31-07">Note 31-07: (DevEnv) Added loadrun and nitrorun tool commands</A>
  <DD><A href="#note31-08">Note 31-08: (ENV) Added libenv*.a environment resource library </A>
  <DD><A href="#note31-09">Note 31-09: (FS) Changed FS_EndOverlay function </A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note31-10">Note 31-10: (FS) Revised documents </A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note31-11">Note 31-11: (FX) Corrected the FX_FX64C_TO_F32 macro </A>
  <DD><A href="#note31-12">Note 31-12: (FX) Fixed bug in FX_InvSqrt function </A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note31-13">Note 31-13: (MB) Added MB_GetMultiBootDownloadParameter function </A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note31-14">Note 31-14: (NVRAM) Fixed bug with error determination when loading data from NVRAM </A>
  <DD><A href="#note31-15">Note 31-15: (OS) Added function reference pages for debug output functions on ARM7 side</A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note31-16">Note 31-16: (OS) Fixed bug in upper address of DTCM arena </A>
  <DD><A href="#note31-17">Note 31-17: (OS) Added NitroStaticInit function reference </A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note31-18">Note 31-18: (OS) Organized const type arguments in function related to OSThread</A>
  <DD><A href="#note31-19">Note 31-19: (OS) Added OS_GetOpt function.</A>
  <DD><A href="#note31-20">Note 31-20: (SND) Optimized the cache invalidation process</A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note31-21">Note 31-21: (WM) Fixed bug in communication disconnect detection process</A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note31-22">Note 31-22: (WM) Added scan types that are performed by specifying the matching length of SSID</A>
  <DD><A href="#note31-23">Note 31-23: (WM) Corrected scan SSID matching length in infrastructure mode</A>
  <DD><A href="#note31-24">Note 31-24: (WM) Changed internal process for child connection</A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note31-25">Note 31-25: (WM) Added interface that indicates more detailed information about causes of connection failure time</A>
  <DD><A href="#KnownIssues_3_00_pr4">Known problems with SDK 3.0 PR4</A>
</DL>

<DL>
  <DT><A href="#sdk_3_00_pr3">¦NITRO-SDK 3.0 PR3</A> (8/10/2005)
  <DD><A href="#note30-01">Note 30-01: (CARD) Added CARD_CheckPulledOut function reference page</A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note30-02">Note 30-02: (CARD) Added argument restrictions for CARD_IdentifyBackup function </A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note30-03">Note 30-03: (MB) Changed sample demos </A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note30-04">Note 30-04: (OS) Added the OS_SetThreadDestructorStack function</A>
  <DD><A href="#note30-05">Note 30-05: (OS) Alarm cancel process used in OS_Sleep function</A>
  <DD><A href="#note30-06">Note 30-06: (WM) Changed process during overload on child</A>
  <DD><A href="#note30-07">Note 30-07: (WM) Changed internal operation for disconnection </A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#KnownIssues_3_00_pr3">Known problems with SDK 3.0 PR3</A>
</DL>

<DL>
  <DT><A href="#sdk_3_00_pr2">¦NITRO-SDK 3.0 PR2</A> (8/4/2005)
  <DD><A href="#note29-01">Note 29-01: (DevEnv) Changed ISD_NITRO_DEBUGGER path </A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note29-02">Note 29-02: (GX) Changed the Sub double3D sample demos again</A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note29-03">Note 29-03: (GX) Added const modifier to arguments of function that gets display list state</A><font size="-1"color="#808080">  (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note29-04">Note29-04: (OS) Added OS_GetLowEntropyData function.</A>
  <DD><A href="#note29-05">Note 29-05: (PM) Fixed restore process after transitioning to sleep mode from the LCD off state. </A><font size="-1"color="#808080">   (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note29-06">Note 29-06: (WM) Added notification to WM_SetIndCallback function callback </A>
  <DD><A href="#note29-07">Note 29-07: (WM) Added WM_SetPowerSaveMode function</A>
  <DD><A href="#note29-08">Note 29-08: (WM) Fixed bug at time of setting ignoreFatalError</A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 RC )</font size>
  <DD><A href="#note29-09">Note 29-09: (WM) Changed receive process on child. </A>
  <DD><A href="#note29-10">Note 29-10: (WVR) Corrected bug in thumb build version of ichneumon component. </A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 RC)</font size>
  <DD><A href="#KnownIssues_3_00_pr2">Known problems with SDK 3.0 PR2</A>
</DL>

<DL>
  <DT><A href="#sdk_3_00_pr">NITRO-SDK 3.0 PR</A> (7/22/2005)
  <DD><A href="#note28-01">Note 28-01: (Cht) Added Pictocatch demo </A>
  <DD><A href="#note28-02">Note 28-02: (DevEnv) Support for nitro.h precompiled headers </A>
  <DD><A href="#note28-03">Note 28-03: (FS) Changed overlay function operation</A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note28-04">Note28-04: (GX) Corrected GX demos</A>
  <DD><A href="#note28-05">Note 28-05: (MATH) Increased speed for MD5 function </A><font size="-1"color="#808080"> (Released in NITRO-SDK 2.2 official release)</font size>
  <DD><A href="#note28-06">Note 28-06: (OS) Added mechanism to check for stack overflow in IRQ stack. </A>
  <DD><A href="#note28-07">Note 28-07: (OS) Added argument support using OS_GetArgc function and OS_GetArgv functions</A>
  <DD><A href="#note28-08">Note 28-08: (OS) OS_KillThread and OS_KillThreadWithPriority functions added</A>
  <DD><A href="#note28-09">Note 28-09: (OS) Implementation of thread destructors </A>
  <DD><A href="#note28-10">Note 28-10: (OS) Added user parameters to thread structure</A>
  <DD><A href="#note28-11">Note 28-11: (OS) Removed limit on maximum number of threads </A>
  <DD><A href="#KnownIssues_3_00_pr">Known issues in SDK 3.0 PR</A>
</DL>

<H4>The NITRO-SDK 3.0 andNITRO-SDK 2.2 series are maintained as parallel versions branching from NITRO-SDK 2.2 PR.  <br> However, all the changes in the 2.2 series are included in the 3.0 series. <br> For details on the 2.2 series, click <A href="changelog2.2branch.html">here</A>.</H4>

<DL>
  <DT><A href="#sdk_2_02_pr">NITRO-SDK 2.2 PR</A> (7/15/2005)
  <DD><A href="#note27-01">Note 27-01: (CARD) Added the CARD_CheckPulledOut function.</A>
  <DD><A href="#note27-02">Note 27-02: (CARD) Made Card Library compatible with new backup devices.</A>
  <DD><A href="#note27-03">Note 27-03: (CTRDG) Corrected cache operations when getting cartridge information</A>
  <DD><A href="#note27-04">Note 27-04: (DevEnv) Added the bin2obj tool</A>
  <DD><A href="#note27-05">Note 27-05: (DevEnv) Provided support for CYGWIN cygdrive prefix that is not  /cygdrive.</A>
  <DD><A href="#note27-06">Note 27-06: (DevEnv) Corrected the LCF template.</A>
  <DD><A href="#note27-07">Note 27-07: (DevEnv) Corrected problem with the StackSize specification for rsf.</A>
  <DD><A href="#note27-08">Note 27-08: (DevEnv) Changed the default value for TS_VERSION.</A>
  <DD><A href="#note27-09">Note 27-09: (DevEnv) Changed the #include search path.</A>
  <DD><A href="#note27-10">Note 27-10: (FS) Added the functions FS_CreateFileFromMemory and FS_CreateFileFromRom.</A>
  <DD><A href="#note27-11">Note 27-11: (FS) Added the FS_End function.</A>
  <DD><A href="#note27-12">Note 27-12: (FS) Corrected problem with the FS_WaitAsync function.</A>
  <DD><A href="#note27-13">Note 27-13: (FS) Corrected problem during overlay unloading.</A>
  <DD><A href="#note27-14">Note 27-14: (FX) Corrected problem with the arctangent functions.</A>
  <DD><A href="#note27-15">Note 27-15: (GX) Corrected the Sub_Double3D sample demo.</A>
  <DD><A href="#note27-16">Note 27-16: (GX) Corrected problem with ASSERT inside functions that manipulate display lists.</A>
  <DD><A href="#note27-17">Note 27-17: (MATH) Corrected problem with the MATH_QSort  function.</A>
  <DD><A href="#note27-18">Note 27-18: (MATH)  Accelerated the SHA-1 functions.</A>
  <DD><A href="#note27-19">Note 27-19: (MATH) Added Fast Fourier Transform functions.</A>
  <DD><A href="#note27-20">Note 27-20: (MB) Added multiboot-wfs sample.</A>
  <DD><A href="#note27-21">Note 27-21: (MB) Released the debug use expanded memory region.</A>
  <DD><A href="#note27-22">Note 27-22: (MB) Added user definition expanded parameters.</A>
  <DD><A href="#note27-23">Note 27-23: (MI) Corrected problems with the MI_CompressHuffman function and Hufmann compression by ntrcomo.exe.</A>
  <DD><A href="#note27-24">Note 27-24: (OS) Corrected internal operation of <code>OS_Sleep</code> function</A>
  <DD><A href="#note27-25">Note 27-25: (OS) Corrected problem with the OS_TryLockMutex function.</A>
  <DD><A href="#note27-26">Note 27-26: (OS) Added the OS_YieldThread function.</A>
  <DD><A href="#note27-27">Note 27-27: (OS) Made internal corrections to initialization process at startup time.</A>
  <DD><A href="#note27-28">Note 27-28: (OS) Expanded the startup screen process for Chinese language version.</A>
  <DD><A href="#note27-29">Note 27-29: (OS) Corrected problems with flushing the data cache.</A>
  <DD><A href="#note27-30">Note 27-30: (OS) Corrected problem when multiple OSMutexes are locked.</A>
  <DD><A href="#note27-31">Note 27-31: (OS) Added information about header files to the Function Reference.</A>
  <DD><A href="#note27-32">Note 27-32: (RTC) Added functions to convert back and forth between date/time and total elapsed time in seconds.</A>
  <DD><A href="#note27-33">Note 27-33: (RTC) Added restrictions to functions for changing date and time.</A>
  <DD><A href="#note27-34">Note 27-34: (WBT) Corrected wbt-fs sample demo</A>
  <DD><A href="#note27-35">Note 27-35: (WBT) Corrected WBT sample demos</A>
  <DD><A href="#note27-36">Note 27-36: (WM) Clarified the specification changes and planned deletion of Key Sharing functions.</A>
  <DD><A href="#note27-37">Note 27-37: (WM) Changed the internal operations of the WM_StartScanEx function.</A>
  <DD><A href="#note27-38">Note 27-38: (WM) Updated WMTestTool.srl</A>
  <DD><A href="#note27-39">Note 27-39: (WM) Deferred MP communication when child not connected.</A>
  <DD><A href="#note27-40">Note 27-40: (WM) Corrected problem with notification when child disconnects</A>
  <DD><A href="#note27-41">Note 27-41: (WM) Added restriction on number of MP communication transmissions per frame.</A>
  <DD><A href="#KnownIssues_2_02_pr">Known issues in SDK 2.2 PR</A>
</DL>
<DL>
  <DT><A href="changelog-oldver.html">Previous Revision Histories</A>
</DL>


<HR>
<H2 style="line-height: 0"><A name="sdk_3_02" id="sdk_3_02">NITRO-SDK Version 3.2 Release</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2006/08/28)</P>
</DIV>

<HR>
<H3><A name="note42-01" id="note42-01">Note 42-01: (CARD) Corrected function reference page for CARD_GetRomHeader.</A></H3>
<P>Added a note that the CARD_GetRomHeader function can obtain the correct information only with an actual production console.
</P>

<HR>
<H3><A name="note42-02" id="note42-02">Note 42-02: (GX) Corrected AntiAlias sample demos.</A></H3>
<P>A bug was corrected where the anti-alias ON/OFF display in the $NitroSDK/build/demos/gx/UnitTours/AntiAlias sample demo was incorrectly displayed in the initial state (and only in the initial state).
</P>

<HR>
<H3><A name="note42-03" id="note42-03">Note 42-03: (OS) Added buffer overflow check for function cost calculation.</A></H3>
<P>Added OS_CheckFunctionCostBuffer and OS_CheckStatisticsBuffer functions to check whether the buffer used for the function cost calculation is full.
</P>

<HR>
<H3><A name="note42-04" id="note42-04">Note 42-04: (PM) Corrected issues associated with card removal during wireless communication.</A></H3>
<P>An issue was corrected where the backlight occasionally turns off when a card is removed during wireless communication.
</P>

<HR>
<H3><A name="note42-05" id="note42-05">Note 42-05: (WM) Corrected sample demos</A></H3>
<P>The following changes have been made to the individual sample library of $NitroSDK/build/demo/wireless_shared.
<ul>
<li> An issue was corrected where, when only the file system is shared between the parent and child in the sample library WFS, an invalid file table was generated depending on the parent file count and child overlay count.
<li> An issue was corrected where, in the sample library WH, the error content could not be checked due to an implicit reset process occurring internally. This is seen when the child is unexpectedly disconnected during MP communication start processing.
</ul>
</P>


<HR>
<H3><A name="KnownIssues_3_02" id="KnownIssues_3_02">Known issues in SDK 3.2 release version</A></H3>
<P>&nbsp; None.</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_3_02_rc2" id="sdk_3_02_rc2">NITRO-SDK Version 3.2 RC2</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2006/08/17)</P>
</DIV>

<HR>
<H3><A name="note41-01" id="note41-01">Note 41-01: (CARD) Corrected the issue of the console not powering down when a card is removed during wireless communication.</A></H3>
<P>A bug was corrected where the console would not power down properly when a card was removed during wireless communication with the clamshell closed.
</P>

<HR>
<H3><A name="note41-02" id="note41-02">Note 41-02: (CP) Added wait processes inside the CP RestoreContext function.</A></H3>
<P>When the status of a divider was restored using the CP_RestoreContext function inside an interrupt, the status of the divider was occasionally not completely restored at the completion of the interrupt.<br> <br>To correct this issue, a wait was added in the CP_RestoreContext function.
</P>

<HR>
<H3><A name="note41-03" id="note41-03">Note 41-03: (CP) Added a note regarding the use of dividers inside interrupts.</A></H3>
<P>The precautions regarding the use of CP functions inside interrupts were included only on the function reference pages for the CP_SetDiv function, the CP_SetSqrt function, and the CP_RestoreContext function. A caution and sample code were added to the CP overview page and the function reference pages for the other CP functions.<br> <br>Furthermore, a link to this precaution was added to all the function reference pages of functions that use a divider internally.
</P>

<HR>
<H3><A name="note41-04" id="note41-04">Note 41-04: (CTRDG) Corrected a problem related to hot-swapping cartridges.</A></H3>
<P>An issue was corrected where, if a soft reset was performed with a Game Pak inserted after first powering up without one, that Game Pak would actually be recognized. This occurred due to the fact that Game Pak recognition was performed during a soft reset in addition to the recognition performed during the usual console startup.
</P>

<HR>
<H3><A name="note41-05" id="note41-05">Note 41-05: (OS) Added the OS_SleepThreadDirect function.</A></H3>
<P>The function OS_SleepThreadDirect, capable of putting a specified thread directly into sleep mode, was added.
</P>

<HR>
<H3><A name="note41-06" id="note41-06">Note 41-06: (OS) Changed internal thread switching.</A></H3>
<P>Made changes so that thread switching in the OS_RescheduleThread function is executed with interrupts disabled.
</P>

<HR>
<H3><A name="note41-07" id="note41-07">Note 41-07: (OS) Adjusted V count at time of startup.</A></H3>
<P>Added a wait process so that the default V count value is constant at program startup.
</P>

<HR>
<H3><A name="note41-08" id="note41-08">Note 41-08: (PRC) Made processing related to dividers thread safe.</A></H3>
<P>A problem was corrected where some code in the PRC SuperFine algorithm was using the divider without having interrupts disabled.
</P>

<HR>
<H3><A name="note41-09" id="note41-09">Note 41-09: (STD) Changed the specifications of character code conversion functions.</A></H3>
<P>Function specifications have been changed so that the number of source characters that have been converted can also be retrieved in the same manner as the number of characters stored after conversion.
</P>

<HR>
<H3><A name="note41-10" id="note41-10">Note 41-10: (WBT) Fixed the WBT_CMD_REQ_GET_BLOCK_DONE notification bug.</A></H3>
<P>A problem was corrected where the WBT_CMD_REQ_GET_BLOCK_DONE notification was not being issued at the time of completion when using the WBT_CMD_PREPARE_SEND_DATA notification with a NULL buffer specified for the WBT_RegisterBlock function.
</P>

<HR>
<H3><A name="note41-11" id="note41-11">Note 41-11: (WBT) Corrected sample demos</A></H3>
<P>A problem was corrected where it was not possible to manage the connection status normally with the $NitroSDK/build/demos/wbt/wbt-1 sample demo when disconnection and connection was carried out repeatedly and the same mode was selected two or more times.
</P>

<HR>
<H3><A name="note41-12" id="note41-12">Note 41-12: (WM) Revised the WM_SetWEPKey/Ex function.</A></H3>
<P>A problem was corrected with the WM_SetWEPKey/Ex function where the function would not function normally if NULL was specified for wepkey when wepMode was WM_WEPMODE_NO.
</P>

<HR>
<H3><A name="note41-13" id="note41-13">Note 41-13: (WM) Changed the reset processing of wepMode.</A></H3>
<P>A problem was corrected where wepMode would not reset in certain cases, such as when the status changed from parent to child.
</P>

<HR>
<H3><A name="note41-14" id="note41-14">Note 41-14: (WM) Corrected a problem related to wepMode settings.</A></H3>
<P>A bug was found where the wepMode of the parent attempting a connection was being set to the child side. This has been changed to reflect instead the value from the WM_SetWEPKey/Ex function called from the child.
</P>

<HR>
<H3><A name="note41-15" id="note41-15">Note 41-15: (WM) Corrected sample demos</A></H3>
<P>The following changes were added to the wh sample library located in $NitroSDK/build/demo/wireless_shared.
<ul>
<li>A problem was corrected where the function WH_ChildConnectAuto, which searches for the parent with a given MAC address and automatically establishes a connection, could not be canceled normally.
<li>This was corrected because the changes in <a href="changelog.html#note39-23">Note 39-23</a> were incomplete.
</ul>
</P>

<HR>
<H3><A name="KnownIssues_3_02_rc2" id="KnownIssues_3_02_rc2">Known problems with SDK 3.2 RC2</A></H3>
<P>&nbsp; None.</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_3_02_rc" id="sdk_3_02_rc">NITRO-SDK Version 3.2 RC</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2006/07/25)</P>
</DIV>

<HR>
<H3><A name="note40-01" id="note40-01">Note 40-01: (CARD) Corrected the issue of the console not powering down when a card was removed.</A></H3>
<P>In certain instances, the console did not power down when the card was removed with the clamshell closed.<br> This problem was corrected.
</P>

<HR>
<H3><A name="note40-02" id="note40-02">Note 40-02: (DevEnv) Flaw in the ITCM/DTCM size check using template files.</A></H3>
<P>During the ITCM/DTCM allocated area overflow check using the lcf template file, the allocated area had been calculated as non-overlapped. This was still seen when an overlay area was configured in ITCM/DTCM and the area was actually overlapped through the use of overlays.<br> In certain cases, this resulted in errors when free space was still available.<br> <br> Because the ITCM/DTCM size check process with added overlay is not very well implemented in the lcf template, the overlay area will not be part of the used area check.<br> <br> For this reason, application developers must pay careful attention to the management of the size of the overlay region on ITCM/DTCM. <br>Specifically, attach a dummy variable at the end of the ITCM/DTCM region and check whether the variable address is out of bounds.
</P>

<HR>
<H3><A name="note40-03" id="note40-03">Note 40-03: (MATH) Corrected the MATHCompareFunc function reference page</A></H3>
<P>In the function reference page for MATHCompareFunc, the description given in &quot;Return Values&quot; was the opposite of the actual operation. This was corrected.
</P>

<HR>
<H3><A name="note40-04" id="note40-04">Note 40-04: (MATH) Changed MATH_QSortStackSize function.</A></H3>
<P>Following the changes described in <a href="changelog.html#note39-05">Note 39-05</a>, MATH_QSortStackSize function was changed to not return a value less than or equal to 0.
</P>

<HR>
<H3><A name="note40-05" id="note40-05">Note 40-05: (MB) Corrected multiboot-PowerSave sample.</A></H3>
<P>In the $NitroSDK/build/demos/mb/multiboot-PowerSave sample, the MB_SetPowerSaveMode function was not actually being called. This was corrected.
</P>

<HR>
<H3><A name="note40-06" id="note40-06">Note 40-06: (MB) Changed the runtime defaults.</A></H3>
<P>Specifications have changed so that the default lifetime value used for wireless control within the MB library is the same as that set for the WM library.
</P>

<HR>
<H3><A name="note40-07" id="note40-07">Note 40-07: (STD) Changed the character code conversion functions.</A></H3>
<P>The following changes have been made in the character code conversion functions.
<ul>
<li>An error in the internal character conversion table was corrected.
<li>Part of the function specifications were changed to allow operations such as getting only the size after conversion and converting partial character strings.
</ul>
</P>

<HR>
<H3><A name="note40-08" id="note40-08">Note 40-08: (VIB) Changed the VIB library</A></H3>
<P>The following changes were made to the VIB library.
<ul>
<li>Added a check so that invalid pulse parameters are not passed to the VIB_StartPulse function.
<li>Improved pulse control precision following the modification of exclusion control in the library.
</ul>
</P>

<HR>
<H3><A name="note40-09" id="note40-09">Note 40-09: (WM) Corrected sample demos</A></H3>
<P>The WH_SetSsid function was added to the WH sample module in $NitroSDK/build/demo/wireless_shared/wh.
</P>

<HR>
<H3><A name="note40-10" id="note40-10">Note 40-10: (WM) Prohibited new connections when communication ends.</A></H3>
<P>When terminating a parent using the WM_EndParent and WM_Reset functions, a new child would sometimes connect immediately after the parent disconnected as part of termination processing. The specifications have changed so that the newly connected child is now automatically disconnected in such cases.<br> The WM_DISCONNECT_REASON_NO_ENTRY notification will be sent to the child as the reason for the disconnection.
</P>

<HR>
<H3><A name="KnownIssues_3_02_rc" id="KnownIssues_3_02_rc">Known issues in SDK 3.2 RC</A></H3>
<P>&nbsp; None.</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_3_02_pr" id="sdk_3_02_pr">NITRO-SDK Version 3.2 PR</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2006/07/07)</P>
</DIV>

<HR>
<H3><A name="note39-01" id="note39-01">Note 39-01: (CARD) Corrected card pull-out detection.</A></H3>
<P>A bug was corrected where the automatic card removal detection did not work properly on the ARM7 processor side if a card was removed immediately after the program started.
</P>

<HR>
<H3><A name="note39-02" id="note39-02">Note 39-02: (CTRDG) Changed the AGB backup access function reference page.</A></H3>
<P>Added a note to the AGB backup access function reference page stating that IS-NITRO-DEBUGGER version 1.66 and earlier cannot properly access the AGB backup device.
</P>

<HR>
<H3><A name="note39-03" id="note39-03">Note 39-03: (CTRDG) Revision of documents.</A></H3>
<P>Numerous errors were corrected in the following document describing AGB cartridge backup access for the Nintendo DS.<br> <br> $NitroSDK/docs/TechnicalNotes/AboutAGBBackupforDS.pdf
</P>

<HR>
<H3><A name="note39-04" id="note39-04">Note 39-04: (DevEnv) Ended support of older CodeWarrior versions in shared definition files of the make system.</A></H3>
<P>We ended support for the older versions of CodeWarrior, namely, version 1.0.2 and earlier, in the common definition file commondefs.cctype.CW used by the make system.<br> Due to this change, the supported version of the compiler is version 1.2 and later.
</P>

<HR>
<H3><A name="note39-05" id="note39-05">Note 39-05: (MATH) Corrected the MATH_QSort  function.</A></H3>
<P>A problem was corrected where the function would not execute normally if the number of pieces of data to be sorted was 0 or 1.
</P>

<HR>
<H3><A name="note39-06" id="note39-06">Note 39-06: (MI) Corrected a problem with out-of-bounds access when using LZ77 compression.</A></H3>
<P>When compressing data using the MI_CompressLZ or MI_CompressLZFast functions, the compression failed if the data after compression was larger than the data before compression. When this occurred, a 1byte out-of-bounds access was seen in the compression target buffer.<br> This problem has been corrected.
</P>

<HR>
<H3><A name="note39-07" id="note39-07">Note 39-07: (MI) Added 8-bit versions of Endian conversion functions.</A></H3>
<P>8-bit versions of functions for Endian conversion have been added.<br> These have been created to standardize the look of the source code. They do not perform an actual conversion.
</P>

<HR>
<H3><A name="note39-08" id="note39-08">Note 39-08: (OS) Corrected the OS_InitException function.</A></H3>
<P>Due to an error in the conditions set by the exception handler, there was a problem such that the user-specified exception handler could not be called when a program was executed by loadrun.<br> This has been corrected so that the correct conditions are used.
</P>

<HR>
<H3><A name="note39-09" id="note39-09">Note 39-09: (OS) Changed the function cost calculation.</A></H3>
<P>During function cost calculation, an interrupt occasionally recorded a new cost calculation during the _PROFILE_ENTRY and _PROFILE_EXIT function input/output record save operation. This prevented accurate cost calculations. The issue was circumvented by prohibiting interrupts in the appropriate section of os_functioncost.c. 
</P>

<HR>
<H3><A name="note39-10" id="note39-10">Note 39-10: (PM) Corrected a problem where the system would not power down if a card was removed while the LCD was turned off.</A></H3>
<P>As a result of the changes described in <a href="changelog.html#note36-13">&quot;Note 36-13: (PM), Changes to the PM_ForceToPowerOffAsync function,&quot;</a> the device would not power down when a card was removed while the LCD was turned off even if the device was closed because PM_ForceToPowerOffAsync could not be called while interrupts were disabled.<br> This problem has been corrected.
</P>

<HR>
<H3><A name="note39-11" id="note39-11">Note 39-11: (PM) Revised the PM_GoSleepMode function reference page.</A></H3>
<P>The description on the function reference page for the PM_GoSleepMode function did not take into account the applicable guidelines. This has been corrected.
</P>

<HR>
<H3><A name="note39-12" id="note39-12">Note 39-12: (PM) Corrected a problem with the RTC alarm interrupt after recovering from sleep mode.</A></H3>
<P>There have been cases where the RTC alarm interrupt stopped working after recovering from sleep mode if the RTC alarm was not included in the recovery parameter.<br> This has been corrected.
</P>

<HR>
<H3><A name="note39-13" id="note39-13">Note 39-13: (STD) Corrected the STD_CopyLString Function Reference page.</A></H3>
<P>An error on the STD_CopyLString function reference page has been corrected.
</P>

<HR>
<H3><A name="note39-14" id="note39-14">Note 39-14: (STD) Changed the specifications of STD_CopyLString and added STD_CopyLStringZeroFill.</A></H3>
<P>The STD_CopyLString function has been changed to operate in the same manner as the strlcpy function since it was implemented under a different specification from the standard strlcpy.<br> The function return value has been changed from a 'char' type pointer, which indicates the copy target pointer, to an 'int' type value, which returns the length of the source string.<br> <br> In addition, the old STD_CopyLString function, implemented under different specifications from strlcpy, has been added as the function STD_CopyLStringZeroFill. The return value has been changed to an int type value that returns the character string length of the source string just like the function STD_CopyLString.<br> <br>The difference between these two functions lies in the fact that, if the copy size for STD_CopyLStringZerofFill is larger than the source string, the difference is padded with NULLs.
</P>

<HR>
<H3><A name="note39-15" id="note39-15">Note 39-15: (STD) Added conversion functions Shift_JIS &lt;-&gt; Unicode.</A></H3>
<P>Functions for performing conversion between Shift_JIS and Unicode character strings have been added to the STD library.<br> We have also added the demo, $NitroSDK/build/demos/std/unicode-1, to show how to use these functions.
</P>

<HR>
<H3><A name="note39-16" id="note39-16">Note 39-16: (TOOL) Support for new overlay-related function with CodeWarrior 2.x.</A></H3>
<P>Beginning with CodeWarrior 2.x, a symbol search target overlay group may be specified when linking.<br> The lsf file format was extended and the SearchSymbol command supported in order to support this feature.<br> <br> The makelcf command and lcf template file were also modified in line with this change.<br> For details, see the makelcf manual.<br> <br>With this change, CodeWarrior 2.0 is now officially supported.
</P>

<HR>
<H3><A name="note39-17" id="note39-17">Note 39-17: (TOOL) Changed the compstatic Function Reference page.</A></H3>
<P>A description of the -f option has been added to the function reference page for the compstatic tool.
</P>

<HR>
<H3><A name="note39-18" id="note39-18">Note 39-18: (TOOL) Support for new 1 Gbit/2 Gbit ROMs for makerom.</A> </H3>
<P>Part of the ROM format has been changed to support the new 1Gbit/2 Gbit ROMs. For a ROM image of 1Gbit or larger, a fixed size area of the top level became a system reserved area.<br> Beginning with NITRO-SDK 3.2 PR, the ROM format output that conforms to this new specification will be the default setting for makerom.<br> <br>Add -V1 to the makerom options to output a ROM image in the old format that was used before NITRO-SDK 3.2 PR.
</P>

<HR>
<H3><A name="note39-19" id="note39-19">Note 39-19: (TOOL) Added checking for valid combinations of ROM parameters.</A></H3>
<P>We have made an addition to the rsf file, which specifies the operation of the makerom tool, to check whether the given RomSize and RomSpeedType combination can actually be made into a ROM.<br> <br> If RomSpeedType is MROM, RomSize must be 512 Mbit or less. <br>If RomSpeedType is 1TROM, RomSize must be 128 Mbit or more.
</P>

<HR>
<H3><A name="note39-20" id="note39-20">Note 39-20: (WM) Changed the WFS sample demo</A></H3>
<P>Made the following changes to the WM sample demo.
<ul>
<li>A problem has been corrected with the WFS sample demo in $NitroSDK/build/demos/wireless_shared/wfs. The internal status of WFS would become abnormal if the WFS_Start function was called before the initialization process of the WFS_Init function had completed.<br> This problem does not occur if the initialization function is called while the wireless state of both the parent and the child is IDLE and if the connection starts after this function returns.
</ul>
</P>

<HR>
<H3><A name="note39-21" id="note39-21">Note 39-21: (WM) Changed the WM_EndDataSharing function.</A></H3>
<P>The state check inside the WM_EndDataSharing function has been deleted in line with the change described in <a href="changelog.html#note39-23">Note 39-23</a>.
</P>

<HR>
<H3><A name="note39-22" id="note39-22">Note 39-22: (WM) Adjusted the link level value when communicating with the Wii console.</A></H3>
<P>The link level value that can be retrieved using the WM_GetLinkLevel function has been adjusted for the case where a Wii console is the MP parent.
</P>

<HR>
<H3><A name="note39-23" id="note39-23">Note 39-23: (WM) Corrected sample demos</A></H3>
<P>Functionality to call the WM_EndDataSharing function has been added inside both of the wc and wh Reset functions. This was done because the WM_EndDataSharing function was not called by either the wh or the wc sample libraries located under $NitroSDK/build/demo/wireless_shared.
</P>

<HR>
<H3><A name="note39-24" id="note39-24">Note 39-24: (WM) Corrected a problem with initialization and shutdown functions.</A></H3>
<P>When a WM library function was called from a different thread or an interrupt handler during the execution of the WM_Init function, initialization was taken to be completed even if it was not. This created the risk of unexpected or illegal operations.<br> A similar state management problem was seen in the WM_Finish function as well.<br> These problems have been corrected.
</P>

<HR>
<H3><A name="note39-25" id="note39-25">Note 39-25: (WM) Corrected a problem with port callback initialization inside the initialization function.</A></H3>
<P>An issue with the port callback initialization in WM initialization function resulted in unnecessary warnings. This has been corrected.
</P>

<HR>
<H3><A name="note39-26" id="note39-26">Note 39-26: (WM) Corrected illegal operations during disconnection.</A></H3>
<P>The internal state of WM would occasionally become invalid if repeated connections and disconnections were made frequently. This has been corrected.
</P>

<HR>
<H3><A name="KnownIssues_3_02_pr" id="KnownIssues_3_02_pr">Known issues in SDK 3.2 PR</A></H3>
<P>&nbsp; None.</P>


<HR>
<H2 style="line-height: 0"><A name="sdk_3_01" id="sdk_3_01">NITRO-SDK Version 3.1 Release</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2006/05/02)</P>
</DIV>

<HR>
<H3><A name="note38-01" id="note38-01">Note 38-01: (CARD) Made changes regarding DMA transfer from ROM</A></H3>
<P>Variables adjacent to the transfer destination buffer used for DMA transfer from ROM were being affected by cache operations if the buffer cache line was not aligned on a 32-byte boundary. This has been corrected.
</P>

<HR>
<H3><A name="note38-02" id="note38-02">Note 38-02: (CTRDG) Added AGB backup access functions</A></H3>
<P>Added functions to the CTRDG library to access the backup device installed in the AGB cartridge.
</P>

<HR>
<H3><A name="note38-03" id="note38-03">Note 38-03: (CTRDG) Added the functions CTRDG_SetPhiClock and CTRDG_GetPhiClock</A></H3>
<P>The CTRDG_SetPhiClock and CTRDG_GetPhiClock functions have been created for setting and getting the clock value output from the PHI terminal of the cartridge.<br> MI_SetPhiClock and MI_GetPhiClock provided the same functionality in previous versions, but this was changed to CTRDG_ when categories were reviewed. <br> <br> Even for internal operations, the CTRDG_SetPhiClock function was changed to set the clocks of both the ARM7 and the ARM9.<br> Previously, it changed only the setting of the ARM9. However, the clock output pattern would change when moving the cartridge access right to the ARM7.<br> <br>The operation of the CTRDG_GetPhiClock function for getting the clock settings is the same as the MI-GetPhiClock function.
</P>

<HR>
<H3><A name="note38-04" id="note38-04">Note 38-04: (FS) Internally changed the ROM archive</A></H3>
<P>Processing would not complete if the callback function set using CARD_SetPulledOutCallback returned FALSE and an attempt was made to access ROM files using a function like FS_OpenFile before the CARD_TerminateForPulledOut function could be called. This problem has been corrected.<br> <br>This problem did not occur when loading a file table into memory using FS_LoadTable.
</P>

<HR>
<H3><A name="note38-05" id="note38-05">Note 38-05: (FX) Changed the FX_Mul function</A></H3>
<P>Changed FX_Mul so that a message was displayed by SDK_WARNING if digits overflow.<br> Additions were also made to the function reference page.
</P>

<HR>
<H3><A name="note38-06" id="note38-06">Note 38-06: (FX) Changed the VEC_Normalize function</A></H3>
<P>Correct results could not be obtained when the value passed to this function was greater than a particular value. It was changed so that a message is displayed by the SDK_WARNING macro when the value is greater than that particular value. This problem has been fixed.<br> Additions were also made to the function reference page.
</P>

<HR>
<H3><A name="note38-07" id="note38-07">Note 38-07: (GX) Added a description to the Function Reference page for G2_SetBlendAlpha</A></H3>
<P>Added a note to the function reference page for the G2_SetBlendAlpha function that a backdrop cannot be specified for the first target screen.
</P>

<HR>
<H3><A name="note38-08" id="note38-08">Note 38-08: (MATH) Corrected the MATHCompareFunc function reference page</A></H3>
<P>This function is used when sorting using the MATH_QSort function. A note was added to the function reference page for MATHCompareFunc stating that 0 must be returned if the two elements being compared are equal.
</P>

<HR>
<H3><A name="note38-09" id="note38-09">Note 38-09: (MI) Corrected the compression problem with the MI_CompressLZ function</A></H3>
<P>The problem where out-of-bounds access would occur during LZ compression that was revised in <a href="changelog.html#note35-04">Note35-04</a> is not reflected in MI_CompressLZ, which is the low-speed version of the LZ compression function. <br> This problem has been corrected.
</P>

<HR>
<H3><A name="note38-10" id="note38-10">Note 38-10: (OS) Changed the OS_GetConsleType function.</A></H3>
<P>A problem was corrected where OS_GetConsoleType might return a value that differs from that described on the function reference page.
</P>

<HR>
<H3><A name="note38-11" id="note38-11">Note 38-11: (OS) Corrected the sample demo exceptionDisplay-2</A></H3>
<P>When using CodeWarrior 2.0 in the $NitroSDK/build/demos/os/exceptionDisplay-2 sample demo, the required function would be dead stripped. This problem has been corrected to explicitly prevent the dead stripping.
</P>

<HR>
<H3><A name="note38-12" id="note38-12">Note 38-12: (PRC) Added figure dictionary data for demo</A></H3>
<P>The stroke order for the Japanese character &quot;GE&quot; in the demo figure dictionary data was incorrect. This problem has been corrected.
</P>

<HR>
<H3><A name="KnownIssues_3_01" id="KnownIssues_3_01">Known issues in SDK 3.1 release version</A></H3>
<P>
- Provisional support for CodeWarrior 2.0. However, accompanying changes will have no effect on current applications.<br> We plan to officially support the extended language codes in the next release.<br>
</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_3_01_rc" id="sdk_3_01_rc">NITRO-SDK Version 3.1 RC</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2006/04/11)</P>
</DIV>

<HR>
<H3><A name="note37-01" id="note37-01">Note 37-01: (CARD) Made Card Library compatible with new backup devices.</A></H3>
<P>Made the Card Library compatible with the 8 MB Flash Backup Device. Added CARD_BACKUP_TYPE_FLASH_8MBITS to the CARDBackupType enumerated type.<br> <br>The function reference page and sample demos were updated accordingly.
</P>

<HR>
<H3><A name="note37-02" id="note37-02">Note 37-02: (DevEnv) Added .itcm.bss/.dtcm.bss/.wram.bss section</A></H3>
<P>Data placed in a .bss section that did not include initial values was accidentally being placed in the .data section. This occurred because a .bss section had not been specified in the .itcm/.dtcm/.wram section.<br> <br>Changed $NitroSDK/build/tools/makelcf and $NitroSDK/include/nitro/section.h. Changed the .template files found under $NitroSDK/include/nitro/specfiles and $NitroSDK/build/components/ichneumon. Added a .bss section to .itcm/.dtcm/.wram.
</P>

<HR>
<H3><A name="note37-03" id="note37-03">Note 37-03: (DevEnv) Revised modulerules.cctype.CW</A></H3>
<P>A NITRO-SDK build error would sometimes occur depending on the version of the sed command that was run. This problem has been corrected.
</P>

<HR>
<H3><A name="note37-04" id="note37-04">Note 37-04: (FX) Added MTX_Copy* functions to the Function Reference.</A></H3>
<P>Added descriptions of the MTX_Copy* functions to the FX category of the Function Reference.<br> The following were added to the Function Reference:
<ul>
<li>MTX_Copy22 function
<li>MTX_Copy33 function
<li>MTX_Copy43 function
<li>MTX_Copy44 function
</ul>
</P>

<HR>
<H3><A name="note37-05" id="note37-05">Note 37-05: (GX) Added G3OP_DUMMY_COMMAND</A></H3>
<P>Added 0xFF, an undefined geometry command, as the dummy command G3OP_DUMMY_COMMAND.
</P>

<HR>
<H3><A name="note37-06" id="note37-06">Note 37-06: (GX) Changed the geometry command cycle list</A></H3>
<P>It has been confirmed that the number of command cycles corresponding to each source increases when an environment map is used.<br> Information about this was added to the geometry command cycle list in the Function Reference.
</P>

<HR>
<H3><A name="note37-07" id="note37-07">Note 37-07: (MI) Added endian-aware memory access functions</A></H3>
<P>Added a group of functions for reading and writing memory with full awareness of little-endian and big-endian issues.
</P>

<HR>
<H3><A name="note37-08" id="note37-08">Note 37-08: (OS) Corrected OS_CheckHeap</A></H3>
<P>An error would be returned if the heap handle specification was OS_CURRENT_HEAP_HANDLE.<br> This problem has been fixed.
</P>

<HR>
<H3><A name="note37-09" id="note37-09">Note 37-09: (OS) Changed arena overview</A></H3>
<P>Corrected a mistake in the graphic about arena management and memory allocation in the OS arena overview in the Function Reference. Also added descriptive text.
</P>

<HR>
<H3><A name="note37-10" id="note37-10">Note 37-10: (OS) 8-byte alignment support for the stack</A></H3>
<P>Adjusted stack processing so that the stack pointer is always aligned on an 8-byte boundary during a function call.
</P>

<HR>
<H3><A name="note37-11" id="note37-11">Note 37-11: (PM) Corrected the PM_ForceToPowerOff and PM_ForceToPowerOffAsync functions</A></H3>
<P>Corrected a problem with the specification changes given in <a href="changelog.html#note36-13">Note 36-13.</a>
</P>

<HR>
<H3><A name="note37-12" id="note37-12">Note 37-12: (SND) Added the SND_SetTrackMuteEx function</A></H3>
<P>Added the SND_SetTrackMuteEx function for selecting the processing to apply to a sound that is played while a sequence track is muted.
</P>

<HR>
<H3><A name="note37-13" id="note37-13">Note 37-13: (TOOL) Changed Function Reference page for attachsign</A></H3>
<P>Changed the description for getting the authentication code on the function reference page for the attachsign tool.
</P>

<HR>
<H3><A name="note37-14" id="note37-14">Note 37-14: (TOOL) Corrected a problem where PPM files could not be loaded using the ppmconv tool</A></H3>
<P>When an attempt was made to convert ppm files created with Photoshop (using a NetPBMformats plug-in), the message &quot;Cannot convert file &quot;xxxx.ppm&quot; was displayed and conversion failed.<br> The problem was due to the fact that the processing implemented for analyzing file headers did not fully cover ppm specifications.<br> <br> This problem has been fixed.<br> Several ppm files that could not be converted previously can now be converted. <br>This fix has no impact on the ppm files that could already be converted correctly.
</P>

<HR>
<H3><A name="note37-15" id="note37-15">Note 37-15: (VIB) Changed the pulse_vib sample demo</A></H3>
<P>The SVC_WaitVBlankIntr function, which was deleted from the source code for all sample demos in the NITRO-SDK (as described in <a href="changelog.html#note36-15">Note 36-15</a>), was being used in the pulse_vib sample demo. Consequently, this function was changed to OS-WaitVBlankIntr.<br> Furthermore, the specifications were changed so that the sample does not stop even if parameters that violate restrictions on the Rumble Pak library are entered.
</P>

<HR>
<H3><A name="note37-16" id="note37-16">Note 37-16: (WM) Corrected the dataShare-Model sample demo</A></H3>
<P>If the number of children specified by the user (WH_CHILD_MAX) was less than WM_NUM_MAX_CHILD, the WM_GetSharedDataAddress function would be called instead of WH__CHILD_MAX. This problem has been fixed.
</P>

<HR>
<H3><A name="note37-17" id="note37-17">Note 37-17: (WM) Added the wireless-all sample demo</A></H3>
<P>Added the sample demo $NitroSDK/build/demos/wm/wireless-all to show the comprehensive use of WM library functions.
</P>

<HR>
<H3><A name="note37-18" id="note37-18">Note 37-18: (WM) Changed the sample demos</A></H3>
<P>Made the following changes to the WM sample demos.
<ul>
<li>Changes were made so that both data sharing and MP direct control modes can be used in the WC sample module of $NitroSDK/build/demos/wireless_shared/wc.
<li>Made changes so that the maximum number of MP communication transmissions per frame when using the $NitroSDK/build/demos/wireless_shared/wh WH sample module can be set in wh_config.h as WH_MP_FREQUENCY.<br> The default value of 1 is used for conventional programs where this value is undefined.</li>
</ul>
</P>

<HR>
<H3><A name="KnownIssues_3_01_rc" id="KnownIssues_3_01_rc">Known issues in SDK 3.1 RC</A></H3>
<P>
- Added a series of functions to the CTRDG library for accessing the backup device installed in the AGB cartridge.<br> However, correction functioning is not guaranteed because verification of these newly added AGB backup access functions is not complete.<br> We plan to officially support the extended language codes in the next release.<br> <br>- Provisional support for CodeWarrior 2.0. However, accompanying changes will have no effect on current applications.<br> We plan to officially support the extended language codes in the next release.<br>
</P>


<HR>
<H2 style="line-height: 0"><A name="sdk_3_01_pr" id="sdk_3_01_pr">NITRO-SDK Version 3.1 PR</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2006/03/14)</P>
</DIV>

<HR>
<H3><A name="note36-01" id="note36-01">Note 36-01: (ARM7) Improved automatic pull-out detection of components</A></H3>
<P>In the past, it was not possible to execute pull-out detection of another device when continuously locking one of the card or cartridge buses using the OS_Lock* function over an extended period of time. This has been changed in the current release so that pull-out detection can be performed.
</P>

<HR>
<H3><A name="note36-02" id="note36-02">Note 36-02: (CARD) Internal changes made to the CARD_CheckPulledOut function.</A></H3>
<P>Specifications have been changed when the CARD_CheckPulledOut function is called multiple times so that a callback function is not called every time. The callback can now be called only once when calling the CARD_CheckPulledOut function or because of ARM7 pull-out detection.
</P>

<HR>
<H3><A name="note36-03" id="note36-03">Note 36-03: (CTRDG) Strengthened access restrictions to the AGB cartridge region</A></H3>
<P>In order to avoid sudden write access to the AGB cartridge region, processing for changing the initial settings of the protection region have been added to the CTRDG_Init function. When writing to a cartridge, cartridge information must be checked and the CTRDG_Enable function must be called.<br> <br>Note that processing will be forcibly stopped when outputting a debug string using OS_Printf or another function unless you are using IS-NITRO-DEBUGGER version 1.65, which is compatible with this function.
</P>

<HR>
<H3><A name="note36-04" id="note36-04">Note 36-04: (CTRDG) Added the CTRDG_CheckPulledOut function.</A></H3>
<P>The function CTRDG_CheckPulledOut has been added for quick cartridge pull-out detection from the ARM9.
</P>

<HR>
<H3><A name="note36-05" id="note36-05">Note 36-05: (GX) Corrected 2D_CharBg_Direct sample demos</A></H3>
<P>Changes were made so that correct settings are made by the G2_SetBG3ControlDCBmp function before the GX_LoadBG3Bmp function when using the sample demo $NitroSDK/build/demos/gx/UnitTours/2D_CharBg_Direct.
</P>

<HR>
<H3><A name="note36-06" id="note36-06">Note 36-06: (GX) Edited Function Reference description for G2_GetBG2ScrPtr and G2_GetBG3ScrPtr functions</A></H3>
<P>There were incorrect descriptions of the bitmap BG in the Function Reference information for the G2_GetBG2ScrPtr and G2_GetGB3ScrPtr functions. This problem has been fixed.
</P>

<HR>
<H3><A name="note36-07" id="note36-07">Note 36-07: (MB) Added MB_FAKESCAN_PARENT_BEACON notification</A></H3>
<P>MB_FAKESCAN_PARENT_BEACON was added to the events about which the MBFakeScanCallbackFunc callback receives notification. This notification is sent each time an MB parent beacon is received. <br> <br>In line with this, processing for using the MB_GetUserVolatData function with the sample demos multiboot-Model and fake_child has been added.
</P>

<HR>
<H3><A name="note36-08" id="note36-08">Note 36-08: (MB) Corrected the operation of MB_ReadMultiBootParentBssDesc</A></H3>
<P>The magicNumber and ver members of gameinfo, which should usually be specified inside the MB_ReadMultiBootParentBssDesc function, remained uninitialized. This problem has been fixed.
</P>

<HR>
<H3><A name="note36-09" id="note36-09">Note 36-09: (MB) Corrected a problem with the number of retries when reconnecting to a clone boot sample parent</A></H3>
<P>The changes described in <a href="changelog-oldver.html#note20-08">Note 20-08:</a> were not applied to the clone boot sample. Further, retry was impossible if even one attempt at connection to the parent failed when reconnecting to a parent after a child's boot. This problem has been fixed.
</P>

<HR>
<H3><A name="note36-10" id="note36-10">Note 36-10: (MB) Updated documentation</A></H3>
<P>The following document about the MB library has been updated.<br> $NitroSDK/docs/technicalNotes/AboutMultiBoot.pdf
</P>

<HR>
<H3><A name="note36-11" id="note36-11">Note 36-11: (MIC) Described restrictions during automatic sampling</A></H3>
<P>A note was added to the Function Reference that there is a restriction which does not allow extended main memory to be specified as a buffer for storing sampling results when performing auto-sampling for the microphone. No change has been made to library operations.
</P>

<HR>
<H3><A name="note36-12" id="note36-12">Note 36-12: (PM) Corrected problem related to the PMAmpGain enumeration type</A></H3>
<P>The constant PM_AMPGAIN_DEFAULT used inside the PM_GAINAMP_DEFAULT macro was not actually defined. This has been corrected and PM_AMPGAIN_DEFAULT has been added to the PMAmpGain enumerator type.
</P>

<HR>
<H3><A name="note36-13" id="note36-13">Note 36-13: (PM) Changed the PM_ForceToPowerOff and PM_ForceToPowerOffAsync functions</A></H3>
<P>When an application attempts to turn off power to the DS unit, the DS main unit will occasionally restart if main power was turned off during the LCD OFF status. <br> The specifications of the PM_ForceToPowerOff and PM_ForceToPowerOffAsync functions have therefore been changed so that power is turned off after the LCDs are turned on.
</P>

<HR>
<H3><A name="note36-14" id="note36-14">Note 36-14: - (TOOL)  Fixed the inclusion order within ROM when specifying files to makerom using wildcards.</A></H3>
<P>When using wildcards to specify files to be stored in ROM with makerom, the order in which the files were stored depended on the order in which the entries appeared in the PC file system. Consequently, the order in which files were stored would change across different PCs regardless of the fact the same application was being built.<br> This problem was fixed so that files are now sorted by name before being stored when using makerom.
</P>


<HR>
<H3><A name="note36-15" id="note36-15">Note 36-15: (VIB) Added VIB library</A></H3>
<P>The VIB library has been added to control the Rumble Pak option cartridge for the Nintendo DS.
</P>


<HR>
<H3><A name="note36-16" id="note36-16">Note 36-16: (WBT) Corrected the WFS sample module</A></H3>
<P>We fixed the following problems with the WFS sample module compiled in $NitroSDK/build/demos/wireless_shared/wfs.
<ul>
<li>Data at the end of the list was undefined in file list initialization on the parent side.
<li>File handles on the parent side were insufficient when receiving multiple file requests simultaneously and with high frequency from the maximum number of children that can be connected.
<li>File requests of other children would not proceed when a child who was in the middle of requesting a file was disconnected.
</ul>
</P>

<HR>
<H3><A name="note36-17" id="note36-17">Note 36-17: (WBT) Corrected Function Reference</A></H3>
<P>The fact that the following commands can be directly issued from one child to another was described incorrectly in the Function Reference. This problem has been fixed.
<ul>
<li>WBT_PutUserData
<li>WBT_GetBlockInfo
<li>WBT_GetBlock
</ul>
</P>

<HR>
<H3><A name="note36-18" id="note36-18">Note 36-18: (WBT) Added Overview to the Function Reference</A></H3>
<P>The item &quot;Overview&quot; was added to the WBT library function reference page.
</P>

<HR>
<H3><A name="note36-19" id="note36-19">Note 36-19: (WM) Changed specifications regarding NULL response from children during MP communication</A></H3>
<P>Specifications were changed so that a Null response would not be returned from children in the middle of MP communication as described in <a href="changelog.html#note30-06">Note 30-06</a>. However, this would occasionally result in unstable operations depending on the environment. Consequently, the change described in <a href="changelog.html#note30-06">Note 30-06</a> has been canceled and the previous specification has been restored.<br> <br> In addition, instead of allowing Null responses from child devices, if a parent device receives a Null response from a child device, it assumes that the child device had a communication failure. <br>Since the WM_SetMPInterval function has been added, excess load problems on the child side should not result even if changes are made later on to allow Null responses to be returned.
</P>

<HR>
<H3><A name="note36-20" id="note36-20">Note 36-20: (WM) Changed WMGameInfo structure definitions</A></H3>
<P>The definition of the WMGameInfo structure has been changed. The version field was eliminated and the name was changed to magicNumber. The magicNumber field is fixed at 0x0001 when used as a DS beacon. In addition, the ver field has been established using one byte from reserved memory. <br> In the current version, the ver field is always 0. In the future, this will increase as the format of the WMGameInfo structure changes. To ensure backward compatibility in the future, there must be no restriction on operations based on checking the ver field. Due to these changes, it is necessary to re-write programs that accessed WMGameInfo.version. <br> In addition, the name of the field gameNameCount_attribute has been changed to &quot;attribute.&quot; Although this field can be accessed using the old name, be sure to use the new field name from now on. <br> <br>In addition, support of the compile switch WM_GAMEINFO_TYPE_OLD, which is never used, has ended due to this change.
</P>


<HR>
<H3><A name="note36-21" id="note36-21">Note 36-21: (WM) Added the WM_IsValidGameBeacon and WM_IsValidGameInfo functions</A></H3>
<P>WM_IsValidGameBeacon and WM_IsValidGameInfo functions were added to determine whether or not the scan result beacon is that of a DS wireless play parent. Internally, a determination is made whether or not WMGameInfo.magicNumber is correct. In addition, each WM demo has been changed to use this function.
</P>

<HR>
<H3><A name="note36-22" id="note36-22">Note 36-22: (WM) Corrected a problem with minPollBmpMode</A></H3>
<P>Communications would be discontinued after a set time interval and the MP lifetime would run out when the MP communications option minPollBmpMode was enabled. This problem has been fixed. <br> <br>Only titles that perform special communications using minPollBmpMode are affected by this problem.
</P>

<HR>
<H3><A name="note36-23" id="note36-23">Note 36-23: (WM) Updated documentation</A></H3>
<P>The following document about the WM library has been updated: $NitroSDK/docs/technicalNotes/AboutWirelessManager.pdf
</P>

<HR>
<H3><A name="note36-24" id="note36-24">Note 36-24: (Misc) Corrected description of macros</A></H3>
<P>Corrected the descriptions of macros where () were not attached to arguments.<br> This change has no effect so long as no arguments are being used where the functionality changes depending on the presence or absence of parentheses. <br> The following macros have been changed.
<ul>
<li>SDK_NULL_ASSERT
<li>SDK_ALIGN4_ASSERT
<li>GX_VFCFX10
<li>GX_FX16ST
<li>GX_COMP4x4_PLTT_IDX
<li>GX_PACK_MTXMODE_PARAM
<li>GX_PACK_VIEWPORT_PARAM
<li>SVC_CpuClear*
<li>SVC_CpuCopy*
<li>WC_ROUNDUP_32
</ul>
Corresponding function reference pages have also been changed.
</P>

<HR>
<H3><A name="KnownIssues_3_01_pr" id="KnownIssues_3_01_pr">Known issues in SDK 3.1 PR</A></H3>
<P>
None.
</P>


<HR>
<H2 style="line-height: 0"><A name="sdk_3_00" id="sdk_3_00">NITRO-SDK Version 3.0 Release</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2006/01/16)</P>
</DIV>

<HR>
<H3><A name="note35-01" id="note35-01">Note 35-01: (CARD) Added an overview to the Function Reference</A></H3>
<P>Added overviews to the Function Reference pages in the CARD library.
</P>

<HR>
<H3><A name="note35-02" id="note35-02">Note 35-02: (DevEnv) Added a Function Reference page for the packnlf tool</A></H3>
<P>Added a Function Reference page for the packnlf tool.
</P>

<HR>
<H3><A name="note35-03" id="note35-03">Note 35-03: (DevEnv) Unified the source code format</A></H3>
<P>The source code format with respect to indents and carriage returns has been standardized in the library and demos.
</P>

<HR>
<H3><A name="note35-04" id="note35-04">Note 35-04: (MI) Corrected LZ compression problems with the MI_CompressLZFast function and ntrcomp.exe</A></H3>
<P>There was a possibility when using the MI_CompressLZFast function for LZ compression that there would be out-of-bound memory accesses. <br> <br> The same problem was found in ntrcomp.exe after NITRO-SDK 3.0 RC2. There was also the possibility of unusual termination or a slight increase in the size of compressed data.<br> <br>These problems have been fixed.
</P>

<HR>
<H3><A name="note35-05" id="note35-05">Note 35-05: (OS) Corrected problems in the OS_ResetSystem function</A></H3>
<P>An infinite loop inside the library would result if the cartridge bus was locked when the OS_ResetSystem function was called because this function internally accesses cartridges. This problem has been fixed.<br> This problem appears only in NITRO-SDK 3.0 RC3.
</P>

<HR>
<H3><A name="note35-06" id="note35-06">Note 35-06: (OS) Edited the Chinese version startup screen</A></H3>
<P>Changes described in <a href="changelog.html#note32-23">Note 32-23</a> resulted in the display of garbage characters on the startup screen. This problem has been fixed.
</P>

<HR>
<H3><A name="note35-07" id="note35-07">Note 35-07: (PRC) Added figure dictionary data for demo</A></H3>
<P>The stroke order of the Japanese character &quot;KE&quot; in the figure dictionary data for the demo was wrong, so &quot;KE&quot; in the figure dictionary demo was corrected.
</P>

<HR>
<H3><A name="note35-08" id="note35-08">Note 35-08: (WM) Corrected the display of the debug string in the sample demo</A></H3>
<P>Changed the debug output of the sample libraries wh, wfs, and wc in $NitroSDK/build/demo/wireless_shared to display &quot;0x&quot; before hexadecimal numbers.
</P>

<HR>
<H3><A name="note35-09" id="note35-09">Note 35-09: (WM) Changed internal communication parameters</A></H3>
<P>MP communications could fail easily depending on the environment. Improvements were therefore made by making changes to the communications internal parameters.
</P>

<HR>
<H3><A name="KnownIssues_3_00" id="KnownIssues_3_00">Known issues in SDK 3.0 release version</A></H3>
<P>
None.
</P>


<HR>
<H2 style="line-height: 0"><A name="sdk_3_00_rc3" id="sdk_3_00_rc3">NITRO-SDK Version 3.0 RC3</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2005/12/26)</P>
</DIV>

<HR>
<H3><A name="note34-01" id="note34-01">Note 34-01: (MATH) Added bit operation function</A></H3>
<P>The following inline function groups which perform bit operations were added:
<ul>
<li>The MATH_CountTrailingZeros and MATH_CTZ macros
<li>The MATH_GetLeastSignificantBit and MATH_LSB macros
<li>The MATH_GetMostSignificantBit and MATH_MSB macros
</ul>
</P>

<HR>
<H3><A name="note34-02" id="note34-02">Note 34-02: (MB) Fixed a bug that occurred when designating memory conservation with the MB_ReadSegment function</A></H3>
<P>When a small buffer size was designated with the MB_ReadSegment function and the distribution data was dynamically loaded from the archive, block transfer became unable to proceed. This problem has been fixed.
</P>

<HR>
<H3><A name="note34-03" id="note34-03">Note 34-03: (MB) Improved MP communication effectiveness under adverse conditions</A></H3>
<P>Transfer rates were adversely affected where WM_ERRCODE_SEND_FAILED was issued frequently on the parent device in bad communication environments during block transfers in the MB library. This problem has been fixed.
</P>

<HR>
<H3><A name="note34-04" id="note34-04">Note 34-04: (OS) Changed the CARD_CheckPulledOut function reference page</A></H3>
<P>The ARM946E-S, a CPU on the Nintendo DS, does nothing when the pld instruction is executed. This fact has been added to the function reference page for the DC_TouchRange function, which executes that instruction.
</P>

<HR>
<H3><A name="note34-05" id="note34-05">Note 34-05: (OS) Corrected the OS_CreateThread function</A></H3>
<P>Depending upon the initial value of the thread structure initialized with OS_CreateThread, an access exception error would be raised when the thread was executed. This problem has been fixed.
</P>

<HR>
<H3><A name="note34-06" id="note34-06">Note 34-06: (WBT) Corrected wbt-1 sample demos</A></H3>
<P>A compilation error prevented a correct build when the macro switch NOT_USE_ALLOC in the sample source of the $NitroSDK/build/demos/wbt/wbt-1 sample demo was enabled. This problem has been fixed.
</P>

<HR>
<H3><A name="note34-07" id="note34-07">Note 34-07: (WBT) Corrected a problem with the user callbacks</A></H3>
<P>The value of the result member of the arguments to the user callbacks that indicates command completion was not being set. This problem has been fixed.
</P>

<HR>
<H3><A name="note34-08" id="note34-08">Note 34-08: (WM) Corrected a problem with MP communication parameters</A></H3>
<P>The configuration of each of the MP communication parameters added in 3.0 RC2 was not functioning properly. This problem has been fixed.
</P>

<HR>
<H3><A name="note34-09" id="note34-09">Note 34-09: (WM) Made changes to the method of setting the WH-related parameters</A></H3>
<P>Previously, all of the SDK demos that used WH referenced $NitroSDK/build/demos/wireless_shared/wh/wh_config.h directly and had shared configurations. Now, each demo has its own individual configuration.<br> Because of this change, the location of wh_config.h has been changed to $NitroSDK/build/demos/wireless_shared/wh/default/.
</P>

<HR>
<H3><A name="note34-10" id="note34-10">Note 34-10: (WM) Improved internal operations during disconnect</A></H3>
<P>Internal operations are sometimes affected immediately after a disconnect. The WM library was modified to address this.
</P>

<HR>
<H3><A name="KnownIssues_3_00_rc3" id="KnownIssues_3_00_rc3">Known problems with SDK 3.0 RC3</A></H3>
<P>
None.
</P>


<HR>
<H2 style="line-height: 0"><A name="sdk_3_00_rc2" id="sdk_3_00_rc2">NITRO-SDK Version 3.0 RC2</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2005/12/05)</P>
</DIV>


<HR>
<H3><A name="note33-01" id="note33-01">Note 33-01: (CARD) Corrected problem with backup function</A></H3>
<P>CARD_RESULT_TIMEOUT can be returned even if the backup write succeeds if the backup write is small and it executes during wireless communication. This problem has been fixed.
</P>

<HR>
<H3><A name="note33-02" id="note33-02">Note 33-02: (CTRDG) Added access permission functions for AGB cartridges</A></H3>
<P>Added the following group of functions for controlling access permissions to AGB cartridges.
<ul>
<li>CTRDG_IsEnabled
<li>CTRDG_Enable
<li>CTRDGi_CheckEnableld
</ul>
</P>

<HR>
<H3><A name="note33-03" id="note33-03">Note 33-03: (DevEnv) Added macro for comparing SDK versions</A></H3>
<P>Added the macro SDK_VERSION_NUMBER for converting the SDK version to a numeric value. <BR> Also added the constant SDK_CURRENT_VERSION_NUMBER to represent the current SDK version.
</P>

<HR>
<H3><A name="note33-04" id="note33-04">Note 33-04: (DevEnv) Added SDK_INLINE, SDK_DECL_INLINE</A></H3>
<P>Added SDK_INLINE and SDK_DCL_INLINE as macros for specifying inline functions.<BR> This allows the format of inline specifications to be changed all at once.<BR> The entire NITRO-SDK must be rebuilt if these macros are changed.<BR> <BR>Code size can be reduced by changing these macros from static inline to inline. This applies only when using the environment with the compiler version in which the inline function problem was fixed and only when using functions that changed from inline to static inline. <BR> <BR>Since changing these macros could produce uncertain results, base the decision to use them on the needs of the application.
</P>

<HR>
<H3><A name="note33-05" id="note33-05">Note 33-05: (DevEnv) Corrected makebanner tool</A></H3>
<P>Character strings could not be included in a banner file if the start of the game title or descriptive text happened to match a specified parameter described in the bsf file used by the makebanner tool. This problem has been fixed.
</P>

<HR>
<H3><A name="note33-06" id="note33-06">Note 33-06: (DevEnv) Updated ntexconv</A></H3>
<P>$NitroSDK/tools/bin/ntexconv.exe has been updated to the version of netconv.exe inside the latest release of the TXLib package. <BR> Although the functioning of the SDK does not change because ntexconv.exe is used only during the creation of icon images, the version of ntexconv.exe in the SDK can now be used even when creating textures.
</P>

<HR>
<H3><A name="note33-07" id="note33-07">Note 33-07: (DevEnv) Added the packnlf tool</A></H3>
<P>The paknlf tool has been added. This tool collects all file specifications referenced by a .nlf file as absolute paths and outputs them as a ZIP file.<BR> <BR>Although this tool was included it NITRO-SDK 3.0 RC, it was not mentioned in the changelog.
</P>

<HR>
<H3><A name="note33-08" id="note33-08">Note 33-08: (MB) Corrected the MBP sample module</A></H3>
<P>The following correction was made to the MBP sample module included in $NitroSDK/build/demos/wireless_shared/mbp:
<ul>
<li>The parent device would hang if the parent called MBP_StartRebootAll and the last child still connected cancelled its connection just as the other children were attempting to reboot. This problem has been fixed.
</ul>
</P>

<HR>
<H3><A name="note33-09" id="note33-09">Note 33-09: (MB) Added MB_FAKE_WORK_SIZE definition</A></H3>
<P>The buffer size required to call the MB_FakeInit function has been defined as MB_FAKE_WORK_SIZE. This value is defined as the size of the data retrieved by the conventional MB-FakeGetWorkSize function.
</P>

<HR>
<H3><A name="note33-10" id="note33-10">Note 33-10: (MB) Corrected problem with the parent beacon flag</A></H3>
<P>Applications could fail to detect that they were sharing the same GGID when using wireless play and download play. This could happen because the WM_ATTR_FLAG_MB flag remained disabled while only the WM_ATTR_FLAG_ENTRY flag was enabled for the first beacon that was sent by an MB parent device.
</P>

<HR>
<H3><A name="note33-11" id="note33-11">Note 33-11: (MI) Added the MI_CompressLZFast function</A></H3>
<P>The function M_CompressLZFast, which requires a work buffer of about 9 kB, has been added to perform LZ compression at rates several times faster than MI_CompressLZ, the function that has been available for LZ compression.
</P>

<HR>
<H3><A name="note33-12" id="note33-12">Note 33-12: (OS) Added an automatic build switch for ARM7 debug output</A></H3>
<P>NITRO_ENABLE_ARM7_PRINT has been added as a build switch for setting the debugger to automatically call the OS_InitPrintServer and OS_PrintServer functions from inside the OS library.<BR> Standard specifications are used if this switch is not specified.<BR> <BR> This build switch is enabled only for the OS library. The OS library must be rebuilt if the setting is changed.
</P>

<HR>
<H3><A name="note33-13" id="note33-13">Note 33-13: (OS) Changed the definition of the VBlank wait function</A></H3>
<P>
SVC_WaitVBlankIntr does not release resources to low-priority threads. Since this would cause problems depending on how the function was used, a call to SVC_WaitVBlankIntr is now automatically replaced by a call to OS_WaitVBlankIntr. Note, however, that this replacement is made using defines inside a header file. The desired result is achieved only after the first rebuild.<br> <br>The result of this change is actually a slight increase in overhead until V-blank interrupt wait operations are executed. Although there is almost no effect on application behavior, if you must use conventional system calls for some reason, you can disable this change by defining the environment variable NITRO_SVC_WAITVBLANK_COMPATIBLE. Be sure to verify your code thoroughly since the problem with threads remains unresolved if you do this.<br> <br> or <a href="#note32-18">Note 32-18: Although it was reported in <a href="#note32-18">Note 32-18:(OS) Improved V-blank wait function</a> that the SVC_WaitVBlankIntr function could be overwritten by another definition using weak symbols, the original functionality has been restored because the need for weak symbols has now been eliminated.
</P>

<HR>
<H3><A name="note33-14" id="note33-14">Note 33-14: (OS) Deleted  OS_InitPrintServer and OS_PrintServer from the sample demo</A></H3>
<P>Deleted OS_InitPrintServer and OS_PrintServer from all NITRO-SDK sample demo source code.
</P>

<HR>
<H3><A name="note33-15" id="note33-15">Note 33-15: (OS) Deleted  PXI_Init from the sample demo</A></H3>
<P>Deleted PXI_Init from all NITRO-SDK sample demo source code.<BR> Demo operations are not affected by this change.
</P>

<HR>
<H3><A name="note33-16" id="note33-16">Note 33-16: (OS) Changed SVC_WaitVBlankIntr in the sample demo</A></H3>
<P>The parts of all NITRO-SDK sample demo source code that used to call SVC_WwaitVBlankIntr have been changed to call OS_WaitVBlankIntr.<BR> Demo operations are not affected by this change.
</P>

<HR>
<H3><A name="note33-17" id="note33-17">Note 33-17: (OS) Changed the start location of extended main RAM arena</A></H3>
<P>0x240000 is used for the lcf template definition even though the start address of the extended main memory arena given on the OS arena overview page is 0x23e0000. (If there is an overlay, an even higher address results.) <BR> 0x23e0000 is used so as to match the information on the OS overview page.
</P>

<HR>
<H3><A name="note33-18" id="note33-18">Note 33-18: (WBT) Corrected the WFS sample module</A></H3>
<P>We fixed the following problems with the WFS sample module compiled in $NitroSDK/build/demos/wireless_shared/wfs.
<ul>
<li>In the case of several functions, better decisions have been made regarding the appropriateness of making calls before initialization and after exiting.
</ul>
</P>

<HR>
<H3><A name="note33-19" id="note33-19">Note 33-19: (WBT) Changed the WFS-related sample demo</A></H3>
<P>Processing inside the sample demo below, which uses the WFS sample module, has been changed so that parent disconnections during a read by a child calling FS_ReadFile can be detected.
<ul>
<li>$NitroSDK/build/demos/wbt/wbt-fs
<li>$NitroSDK/build/demos/mb/multiboot-wfs
</ul>
</P>

<HR>
<H3><A name="note33-20" id="note33-20">Note 33-20: (WM) Corrected the 2D_CharBg_3 and Sub_CharBg_3 sample demos</A></H3>
<P>Corrected a problem in the $NitroSDK/build/demos/gx/UnitTours/{2D_CharBg_3,Sub_CharBg_3} sample demo where execution would stop due to an ASSERT if the object was shrunk too much.
</P>

<HR>
<H3><A name="note33-21" id="note33-21">Note 33-21: (WM) Added a timing configuration function for MP communication</A></H3>
<P>Previously, the V alarm count was fixed at 260 for the parent and at 240 for children during frame synchronous communication mode when beginning to prepare the first MP communication of each frame. The WM_SetMPTiming function has been added to effect this setting. Due to restrictions on the implementation, these values must be set either in the range 220 to 260 or the range 0 to 190.<br> The ARM7 operates actively during communication processing and frequently blocks the ARM9 from accessing main memory. The average operational performance of the ARM9 can sometimes be improved by adjusting communication timing to help alleviate the situation. The conventional setting values are used as defaults unless other settings are explicitly made. <br>
</P>

<HR>
<H3><A name="note33-22" id="note33-22">Note 33-22: (WM) Added a function to configure the send size for MP communications</A></H3>
<P>Until now, the size of transmissions sent using MP communication have been fixed at values given by the parentMaxSize and childMaxSize fields of the WMParentParam structure that the parent sets with the WM_SetParentParameter function before communication starts. The parent send size and child send size can be set using the functions WM_SetMPParentSize and WM_SetMPChildSize.<br> The send size of the parent and child are initialized to the values set for parentMaxSize and childMaxSize in the WMParentParam structure when the parent executes the WM_StartParent function. Smaller values than these can be set using the WM_SetMPParentSize and WM_SetMPChildSize functions. However, the default initial values cannot be exceeded. Setting the parent send size on the child side is meaningless. However, the setting for the child send size is used to overwrite the child send size setting on the parent side every time MP communications are carried out.<br> There is not much advantage in changing the setting for parent transmissions since the smaller the amount of data, the shorter the radio signal output. Still, the child side always sends out a radio signal with the number of bytes designated in childMaxSize. Thus, by reconfiguring the necessary size, the transmission time can be reduced and communications can be stabilized. Given the current implementation, if an amount of data larger than the send size (as modified using these functions) has already been configured by the WM_SetMPDataToPort function, that data will not be sent. Instead, it will just continue to collect in the send queue.</P>


<HR>
<H3><A name="note33-23" id="note33-23">Note 33-23: (WM) Added a spacing control function for MP communication</A></H3>
<P>The function WM-SetMPInterval has been added to allow setting the time interval between one MP communication and the next. This occurs during MP communications in continuous communication mode and beginning from the second transmission in frame synchronous mode. This can be specified independently for the parent and children in units of microseconds.<br> The default values are 1000 microseconds for the parent and 0 microseconds (no interval) for the children. Throughput can be increased by adjusting this value. However, throughput may also be worsened due to dropped data if the MP communication interval for the parent is shorter than the time it takes the children to process the received data. Generating unnecessary resends will also adversely affect the bandwidth efficiency.<br>
</P>




<HR>
<H3><A name="note33-24" id="note33-24">Note 33-24: (WM) Updated the dataShare-Model sample demo</A></H3>
<P>A feature for displaying information about the parent to be connected to has been added to the parent list window in the sample demo $NitroSDK/build/demos/wm/dataShare-Model.
</P>

<HR>
<H3><A name="note33-25" id="note33-25">Note 33-25: (WM) Corrected the display of the dataShare-Model sample demo</A></H3>
<P>The text output screen displayed at the startup of the sample demo $NitroSDK/build/demos/wm/dataShare-Model would sometimes break. This problem has been fixed.
</P>


<HR>
<H3><A name="note33-26" id="note33-26">Note 33-26: (WM) Added a way to set the maximum number of MP communications per frame.</A></H3>
<P>Although the maximum number of MP communications per frame (including resends) used to be fixed at six, this can now be set to other values. Set WMMMPParam.maxFrequency using WM_SetMPParameter. The processing of the fixFreqMode argument by WM_StartMPEx has been changed so that maxFrequency is also set to the value of mpFreq.<br>
</P>

<HR>
<H3><A name="note33-27" id="note33-27">Note 33-27: (WM) Changed the specification for the receive signal strength level</A></H3>
<P>If a send fails, a correction is applied to the receive signal strength level that can be retrieved by WM_GetLinkLevel. However, this correction is performed differently for the parent than for the children. The receive signal strength level for the parent and for the children can differ greatly even under the same conditions.<BR> To solve this problem, the standard to detect failed transmission of a parent was relaxed. In this way, the reception strength level of the parent became closer to that of the child.
</P>

<HR>
<H3><A name="note33-28" id="note33-28">Note 33-28: (WM) Added an option for disabling the pre-check of the send/receive buffer size</A></H3>
<P>A special option has been added to ignore various validity checks (pre-check of the send/receive size setting value, send/receive buffer size, and communication time limit of 5600 microseconds) that were done in the WM_StartMP function. Set WMMPParam.ignoreSizePrecheckMode to TRUE using the WM_SetMPParameter function before calling WM_StartMP.<br> Combining this feature with the WM_SetMPParentSize and WM_SetMPChildSize functions allows the send size to be adjusted according to changing conditions, such as the number of children that are connected. In the application, do not to exceed the communication time limits or the send/receive buffer size. If the send buffer size is insufficient and an attempt is made by the parent to start MP communications, this will be detected at execution  time. If the condition continues, communication will be cut off because of the timeout on MP lifetime.</P>

<HR>
<H3><A name="note33-29" id="note33-29">Note 33-29: (WM) Added a note regarding the wireless communication event counters</A></H3>
<P>Unexpected behavior was reported where several event counters were cleared when accessing buffers located in a particular address space in wireless hardware. <BR> Consequently, the event counters may have a value that is less than the actual event counts.<BR> Some event counters retrieved by WM_GetWirelessCounter may not have the correct values. <BR> Information has been added to the Function Reference about this.
</P>


<HR>
<H3><A name="KnownIssues_3_00_rc2" id="KnownIssues_3_00_rc2">Known problems with SDK 3.0 RC2</A></H3>
<P>
None.
</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_3_00_rc" id="sdk_3_00_rc">NITRO-SDK Version 3.0 RC</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2005/11/07)</P>
</DIV>

<HR>
<H3><A name="note32-01" id="note32-01">Note 32-01: (CARD) Changed internal processing of EEPROM device operations</A></H3>
<P>When an EEPROM device was being used for backup, there was an occasional problem with abnormalities in the initial values of the hardware internal status at startup. A process was added to deal with this issue.
</P>

<HR>
<H3><A name="note32-02" id="note32-02">Note 32-02: (CARD) Added removal detection after ROM access</A></H3>
<P>Added detection of whether the card had been removed after every read performed by the CARD_ReadRom function or the CARD_ReadRomAsync function.<br> As a result, the application will no longer refer to invalid data before it receives a notification of the remove-detection callback.
</P>

<HR>
<H3><A name="note32-03" id="note32-03">Note 32-03: (CARD) Made Card Library compatible with new backup devices.</A></H3>
<P>Modified the Card Library to support the 4 MB Flash Backup Device. Added CARD_BACKUP_TYPE_FLASH_2MBITS to the CARDBackupType enumerated type.<br> <br>The Function Reference and sample demos were updated accordingly.
</P>

<HR>
<H3><A name="note32-04" id="note32-04">Note32-04: (DevEnv) Corrected the #pragma define_section parameters</A></H3>
<P>The #pragma define_section parameters were incorrectly written as being delimited by commas, namely: <br>&ldquo;#pragma define_section DTCM &quot;.dtcm&quot;,&quot;.dtcm&quot;,abs32,RWX.&rdquo; <br>They were changed to be delimited by a space, namely: <br>&ldquo;#pragma define_section DTCM &quot;.dtcm&quot; abs32 RWX.&rdquo;<br><br> Correct any other erroneous descriptions like the one above in the same way.
</P>

<HR>
<H3><A name="note32-05" id="note32-05">Note 32-05: (DevEnv) Added a resource data conversion tool for the ENV library</A></H3>
<P>Added the xml2env tool to convert resource data for the ENV library written in XML format to the C source file format. Also added the init2env tool for converting resource data for the ENV library written in INIT format to the C source file format.
</P>

<HR>
<H3><A name="note32-06" id="note32-06">Note 32-06: (DevEnv) Corrected the NITRO-SDK Package creation script</A></H3>
<P>In the NITRO SDK 3.0 PR - 3.0 PR4 packages, there was a flaw in the script used when creating packages that resulted in the THUMB version ichneumon components not operating correctly.<br> This problem has been fixed.
</P>

<HR>
<H3><A name="note32-07" id="note32-07">Note 32-07: (DevEnv) Changed the version of CodeWarrior used for SDK package build</A></H3>
<P>(DevEnv) Changed the version of CodeWarrior used for the SDK package build to 1.2SP1.<br> Also made it so that the build numbers of the CodeWarrior compiler and linker used to build to $NitroSDK/include/nitro/version.h are recorded.
</P>

<HR>
<H3><A name="note32-08" id="note32-08">Note 32-08: (DevEnv) Added a reference to the compilation target</A></H3>
<P>Added an explanation of the compilation target to the function information in the Function Reference.
</P>

<HR>
<H3><A name="note32-09" id="note32-09">Note 32-09: (ENV) Added a reference to the ENV library</A></H3>
<P>Added a reference to the ENV library
</P>

<HR>
<H3><A name="note32-10" id="note32-10">Note 32-10: (ENV) Changed the ENV library</A></H3>
<P>Changed the ENV_Init function. Added the function ENV_AppendResourceSet. Previously, ENVResource was passed as an argument to the ENV_Init function. Now, several ENVResources can be registered.
</P>

<HR>
<H3><A name="note32-11" id="note32-11">Note 32-11: (GX) Corrected the G3BS_LoadMtx43 function</A></H3>
<P>The condition parameters of the ASSERT used by G3BS_LoadMtx43 were wrong. This problem has been fixed.
</P>

<HR>
<H3><A name="note32-12" id="note32-12">Note 32-12: (GX) Further corrections to Sub_Double3D sample demo.</A></H3>
<P>The following correction was made to the <code>$NitroSDK/build/demos/gx/UnitTours/Sub_Double3D</code> sample demo: <br> The correction described in <a href="changelog.html#note29-02">Note 29-02</a> was not complete and the same symptoms still appeared occasionally. The problem was corrected again and explanations were added as comments to the SwapBuffers command and the geometry engine.
</P>

<HR>
<H3><A name="note32-13" id="note32-13">Note 32-13: (MATH) Corrected problem with the MATH_QSort  function.</A></H3>
<P>There was a bug in the MATH_QSort function. It was possible that some values would not be sorted properly in either ascending or descending order after being sorted.<br> This problem has been fixed.
</P>

<HR>
<H3><A name="note32-14" id="note32-14">Note 32-14: (OS) Corrected the HI address calculations for the ARM7-specific WRAM arena</A></H3>
<P>If the IRQ stack size on the ARM7 side was set to 0 or was negative, the domain was determined by the first position in WRAM. The cause was a mistake in the HI address calculations of the ARM7-specific WRAM arena.<br> It should have been based on the end of a program domain which occupies the first position of WRAM.<br> After the fix, the calculations were correct.<br> <br> However, since the stack area specification was defined with a positive value in the previous mongoose and ichneumon, there functioning is the same whether before or after the correction.<br> Since the mongoose and ichneumon SDK attachments are used in typical game applications, they are not influenced by this change.
</P>

<HR>
<H3><A name="note32-15" id="note32-15">Note 32-15: (OS) Created the OS_GetTotalOccupiedSize function</A></H3>
<P>Added the OS_GetTotalOccupiedSize function, which gets the memory size used in the heap.<br> The existing OS_GetTotalAllocSize function totaled the size of the data area of the memory block being used. The OS_GetTotalOccupiedSize function, on the other hand, also adds in the size of the header portion of the memory block.
</P>

<HR>
<H3><A name="note32-16" id="note32-16">Note 32-16: (OS) Corrected the OS_PutString function.</A></H3>
<P>When the FINALROM is built, the OS_PutString function was replaced with unreachable code, but the dead code stripping of the argument was not executed. This problem has been corrected. Now, none of this function is executed and the dead code stripping of the argument is performed.
</P>

<HR>
<H3><A name="note32-17" id="note32-17">Note 32-17: (OS) Added SDK_COMPILER_ASSERT</A></H3>
<P>Conditions are inspected when compiling. The SDK_COMPILER_ASSERT macro was added to generate a compilation error if those conditions are not met.
</P>

<HR>
<H3><A name="note32-18" id="note32-18">Note 32-18: (OS) Improved the VBlank wait function</A></H3>
<P>When waiting for a VBlank interrupt using the SVC_WaitVBlankIntr system call, the thread called for this function does not stop. There is thus a problem that resources are not obtained by lower priority threads while waiting for the interrupt. The cause is in the system call. The OS_WaitVBlankIntr function was created as an alternative that stops the thread while waiting for a VBlank interrupt. Also, the SVC_WaitVBlankIntr function which calls the system call was made into a weak symbol. It was also modified so that it could be overwritten by another definition.
</P>

<HR>
<H3><A name="note32-19" id="note32-19">Note 32-19: (OS) Changed the argument const of the cache function</A></H3>
<P>In functions that take as an argument a pointer to a cache operation function that starts with DC or IC, use const for internal operations that do not change the content. <br> The functions that were changed are:
<ul>
<li>DC_StoreRange
<li>DC_FlushRange
<li>DC_TouchRange
<li>DC_LockdownRange
<li>DC_CleanRange
<li>DC_CleanAndInvalidateRange
<li>IC_PrefetchRange
<li>IC_LockdownRange
</ul>
</P>

<HR>
<H3><A name="note32-20" id="note32-20">Note 32-20: (OS) Corrected the stack overflow check function</A></H3>
<P>In the check stack overflow functions OS_SstIrqStackWarningOffset and OS_SetThreadStackWarningOffest that set the check code in the middle of the stack, the overflow check code set at the bottom of the stack was being overwritten. For this reason, the stack check was not operating correctly. This problem has been fixed.
</P>

<HR>
<H3><A name="note32-21" id="note32-21">Note 32-21: (OS) Support for the argument data buffer switch</A></H3>
<P>In the ROM image, you can get argument data embedded with the tool command buryarg from the program using functions such as OS_GetArgv function and OS_GetOpt. This argument data buffer can now be changed at run time. See the OS_SetArgumentBuffer function and the OS_GetArgumentBuffer function. <br> Also, we have made available the OS_ConvertToArguments function for converting a character string to an argument data buffer.
</P>

<HR>
<H3><A name="note32-22" id="note32-22">Note 32-22: (OS) Corrected the actual time and the check value conversion macro</A></H3>
<P>The macro that changes both actual time and tick values in functions such as OS_SecondsToTicks and OS_TicksToSeconds was corrected. <br> Calculations were being done with 32-bit accuracy. When too large argument was given, overflow occurred and the correct value was not returned. <br> <br> The correction is as follows.<br> <br> -Internal operations in existing macros have been changed to use 64 bits.<br> -If you explicitly want to use 32-bit internal operations, the following functions are available:
<ul>
<li>OS_SecondsToTicks32 Function
<li>OS_MilliSecondsToTicks32 Function
<li>OS_MicroSecondsToTicks32 Function
<li>OS_TicksToSeconds32 Function
<li>OS_TicksToMilliSeconds32 Function
<li>OS_TicksToMicroSeconds32 Function
</ul>
&nbsp;  
</P>

<HR>
<H3><A name="note32-23" id="note32-23">Note 32-23: (OS) Updated the Chinese version&rsquo;s startup screen</A></H3>
<P>The Chinese version startup screen, which is displayed with OS_InitChina, has been updated.
</P>

<HR>
<H3><A name="note32-24" id="note32-24">Note 32-24: (OS) Corrected thread queue operations, including threads about to terminate</A></H3>
<P>When a certain thread registered with the thread queue was terminated by functions such as OS_DestroyThread or OS_KillThread, the information about the thread was removed from the thread queue. This information includes when that thread terminates another thread while waiting for that thread to end in the OS_JoinThread function. <br> Until now, deleted thread information remained in the thread queue. As a result, when the OS_WakeupThread function was executed to make all threads in the queue executable, the deleted threads were included also. This caused a bug in the thread list status. This problem has been fixed.
</P>

<HR>
<H3><A name="note32-25" id="note32-25">Note 32-25: (PRC) Corrected the sample tool &ldquo;pdic2c.pl&rdquo;</A></H3>
<P>The pdic2c.pl sample tool used with the PRC demo was in an old format. This has been corrected. Also, an option has been added to output header files and source files to separate files.
</P>

<HR>
<H3><A name="note32-26" id="note32-26">Note 32-26: (RTC) Changed the method for getting RTC day of the week information</A></H3>
<P>When data including the day of the week is read from the RTC, the day of the week calculated from the date is now returned. Previously, the value stored in the RTC was returned as is. However, after passing the last date that can be displayed by the RTC -- 12/31/2099 23:59 -- the day of the week information was wrong until the the RTC was reset.
</P>

<HR>
<H3><A name="note32-27" id="note32-27">Note 32-27: (SND) Corrected a problem where the SND_CalcDecibel function would not return a suitable value when the argument 0 had been entered</A></H3>
<P>With the function SND_CalcDecibel (or SND_CalcDecibelSquare), -723 was returned when the argument was set at 0. This was corrected to return -32768. <br> Up until this correction, when using the volume modulation, sound could still be heard even if the player volume had been set to 0.<br> This problem has been fixed.
</P>

<HR>
<H3><A name="note32-28" id="note32-28">Note 32-28: (STD) Added STD library</A></H3>
<P>Created an STD library to handle the string operation related to the API group. The following functions are included in the STD library:
<ul>
<li>STD_CopyString [STD_StrCpy]
<li>STD_CopyLString [STD_StrLCpy]
<li>STD_SearchString [STD_StrStr]
<li>STD_GetStringLength [STD_StrLen]
<li>STD_ConcatenateString [STD_StrCat]
<li>STD_CompareString [STD_StrCmp]
<li>STD_CompareNString [STD_StrNCmp]
<li>STD_CompareLString [STD_StrLCmp]
<li>STD_TSScanf
<li>STD_TVSScanf
</ul>
Note that the functions listed on the right inside brackets are alternate names for the functions listed to their left. For example, STD_StrCpy is an alternate name for STD_CopyString.
</P>

<HR>
<H3><A name="note32-29" id="note32-29">Note 32-29: (WBT) Corrected a problem with GetBlock request notifications</A></H3>
<P>The system callback notification WBT_CMD_REQ_GET_BLOCK_DONE, which should be generated only when a partner's WBT_GetBlock function finishes, was also being generated by WBT_GetBlockInfo. This problem has been fixed. Applications that do not use this notification are unaffected.
</P>

<HR>
<H3><A name="note32-30" id="note32-30">Note 32-30: (WBT) Corrected the WFS sample module</A></H3>
<P>We fixed the following problems with the WFS sample module compiled in $NitroSDK/build/demos/wireless_shared/wfs.
<ul>
<li>When WFS_Init was called multiple times, the function still be in the interrupts prohibited state when it returned. This problem has been fixed.
<li>Changed the internal work memory that was statically resident so that it is now allocated from the allocator when the WFS_Init function is called.
<li>This was corrected because WM_PORT_BT, which is reserved by the SDK as a port number, was being used in the various sample demonstrations using WFS.
</ul>
</P>

<HR>
<H3><A name="note32-31" id="note32-31">Note 32-31: (WM) Updated the WM test tool</A></H3>
<P>Made the channel information on the same parent device change when WMTestToll.srl scans.
</P>

<HR>
<H3><A name="note32-32" id="note32-32">Note 32-32: (WM) Corrected the description on the WM_SetLifeTime Function Reference page</A></H3>
<P>There was a mistake in the description on the WM_SetLifeTime Function Reference page. This problem has been fixed. The description said that the frame lifetime default value was &quot;no lifetime&quot;. However, the correct description is &quot;beacon interval x 5.&quot;
</P>

<HR>
<H3><A name="note32-33" id="note32-33">Note 32-33: (WM) Improved mongoose components</A></H3>
<P>When mongoose is used as an ARM7 component, access to the ARM9 main memory during the asymmetric operation of transitioning the state of the WM library is largely inhibited. This problem has been solved by improving the mongoose component. Note that this problem was not necessarily solved, merely improved.
</P>

<HR>
<H3><A name="note32-34" id="note32-34">Note 32-34: (WM) Added information in the notification to the port receive callback</A></H3>
<P>Added the connectedAidBitmap field to WMPortRecvCallback. The AID bitmap during the current connection is stored there.
</P>

<HR>
<H3><A name="note32-35" id="note32-35">Note 32-35: (WM) Added notification when the port receive callback initializes</A></H3>
<P>WM_STATECODE_PORT_INIT was added to WMStateCode. It was changed so that the port receive callback in this state code is called when WM_SetPortCallback is called. This assumes that the initialization operation is run using the connectedAidBitmap field or the myAid field of WMPortRecvCallback. In order to maintain connection notification consistency, keep in mind that the callback call by WM_STATECODE_PORT_INIT also happens during an interrupt prohibited state. <br>Due to this change, there is a possibility that a similar incompatibility with <a href="#note32-38">Note 32-38<a> might occur.
</P>

<HR>
<H3><A name="note32-36" id="note32-36">Note 32-36: (WM) Added API for tests</A></H3>
<P>The test API in the WM library has been expanded. This API is used for testing and is otherwise not normally used. Despite this new API, WMlibrary operations have not been altered when this library is used normally. However, the WMApiid listing type has been extended by the addition of this API. Bear in mind that programs which depend on the row order of the listing may be affected.
</P>

<HR>
<H3><A name="note32-37" id="note32-37">Note 32-37: (WM) Corrected a problem where the wireless connection function stops when a child device calls the WM_EndMP function</A></H3>
<P>When the parent device maintained an MP connection, the wireless communication feature was stopped after a child device called the WM_EndMP function at a specific time. This problem has been fixed. This bug appears in the SDK after version 3.0. When wireless communication has finished, the termination callback for asymmetric functions related to wireless communcations will no longer be called. We know the bug occurs when several child devices are connected using fake_child. Further, when communication is terminated by an operation from the parent device, this bug is not an issue.
</P>

<HR>
<H3><A name="note32-38" id="note32-38">Note 32-38: (WM) Added a disconnection notification when the local player disconnects</A></H3>
<P>Previously, when WM functions (such as WM_DisconnectChildren) were called and communication was disconnected, a disconnection notification was not generated. WM_STATECODE_DISCONNECTED_FROM_MYSELF has now been added to WMStateCode in the parent to provide a disconnection notification. <br> Because of this change, there is a chance that an incompatibility may arise.<br> The state codes that can go into the state field of WMStartParentCallback, WMStartConnectCallback, and WMPortRecvCallback are increasing. Therefore, use caution when stopping the execution of programs when a state code other than one of the known WM_STATECOD_* state codes has been received.<br> Also, even if DataSharing explicitly disconnects the child from the parent using this notification, DataSharing will not stop.<br> <br> The following functions were added as a result of this change.
<ul>
<li>WM_GetAID function
<li>WM_GetConnectedAIDs function
</ul>
</P>

<HR>
<H3><A name="note32-39" id="note32-39">Note 32-39: (WM) Fixed internal operations again for connecting and disconnecting</A></H3>
<P>The fixes described in <a href="changelog.html#note31-24">Note 31-24<a> and <a href="changelog.html#note30-07">Note 30-07<a> did not fully address the problems. As a result, these problems have been fixed again.
</P>

<HR>
<H3><A name="KnownIssues_3_00_rc" id="KnownIssues_3_00_rc">Known issues in SDK 3.0 RC</A></H3>
<P>
<ul>
<li>The ntexconv in this SDK ($NitroSDK/tools/bin/ntexconv.exe) is an older version than the ntexconv in the TXLib package of the current release. Since the SDK uses ntexconv only to create icon images, using an older version does not pose a problem. However, there would be a problem if ntexconv were used to create textures.  You are encouraged to use the ntexconv that is in the latest TXLib package.
</ul>
</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_3_00_pr4" id="sdk_3_00_pr4">¦ NITRO-SDK Version 3.0 PR4</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2005/09/08)</P>
</DIV>

<HR>
<H3><A name="note31-01" id="note31-01">Note 31-01: (CARD) Added CARD_CancelBackupAsync function </A></H3>
<P>Added the CARD_CancelBackupAsync function for aborting the asynchronous process on the backup device. <br> As a result, added CARD_RESULT_CANCELED to the CARDResult enumerated values for processes that were aborted with this function.
</P>

<HR>
<H3><A name="note31-02" id="note31-02">Note 31-02: (CARD) Corrections to internal processing of FRAM device operations</A></H3>
<P>When a FRAM device was being used for backup, there was an occasional problem with inconsistency of the hardware internal status. A process was added to deal with this issue.
</P>

<HR>
<H3><A name="note31-03" id="note31-03">Note 31-03: (CARD) Added CARD_RESULT_NO_RESPONSE error code </A></H3>
<P>Added CARD_RESULT_NO_RESPONSE to the CARDResult enumerated values as a result value for backup manipulation functions. <br> This is an error value that was split off from CARD_RESULT_TIMEOUT. It is returned when contact with the card appears to be poor.
</P>

<HR>
<H3><A name="note31-04" id="note31-04">Note 31-04: (DevEnv) Support for overlay groups in lsf files </A></H3>
<P>Added support for overlay groups. <br> The linker assumes that overlays belonging to the same group are located in the same memory region.<br> By specifying mutually exclusive overlay modules as belonging to the same group, it is possible to use function calls between overlays to detect errors during linking.<br> To maintain compatibility, the group with the same name as the current section name is set if the overlay group specification is omitted.<br>
</P>

<HR>
<H3><A name="note31-05" id="note31-05">Note 31-05: (DevEnv) Fixed bug in certain section names of makelcf </A></H3>
<P>In some cases, if the section description in an lsf file had sections named &quot;&lt;existing section name&gt;&quot; + &quot;_bss,&quot; such as  &quot;main&quot;and &quot;main_bss,&quot; problems would occur. <br> In addition to &quot;_bss,&quot; the same problem occurred with some text strings, such as &quot;_DATA,&quot; &quot;_BSS.&quot;  <br> This is a lcf.template file problem. <br> We fixed the <CODE>*.lcf.</CODE>template files under <CODE>$NitroSDK/include/nitro/specfiles</CODE>. <br> <br> As a result, you can no longer directly reference symbol information about overlays that existed in previous versions.<br> Because there may be problems with applications that directly reference symbols, the *.lcf.template files for the older version are for now included in $NitroSDK/include/nitro/specfiles/2.x.<br> Overwrite the files in $NitroSDK/include/nitro/specfiles as needed. <br> (When building with make, specify the LCFILE_TEMPLATE variable.) <br> <br> The official way to obtain information about overlays is to reference the overlay table using the overlay ID as an index.
</P>

<HR>
<H3><A name="note31-06" id="note31-06">Note 31-06: (DevEnv) Corrected makelcf </A></H3>
<P>When an overlay was placed in DTCM, a bug occurred with the arena configuration of the main memory area. This problem has been fixed. <br> We also fixed the ITCM arena configuration for use with a ITCM overlay. <br> We added support for overlays of the extended main memory region, which was not possible previously.
</P>

<HR>
<H3><A name="note31-07" id="note31-07">Note 31-07: (DevEnv) Added loadrun and nitrorun tool commands</A></H3>
<P>loadrun is a command that downloads and runs binary data to the IS-NITRO-EMULATOR. <br> It can be terminated with a timeout or a call to the OS_Exit function. <br> <br> nitrorun is a script that calls the buryarg command, which embeds argument data in the binary and the loadrun command at the same time. <br> This allows execution of the binary in a manner that is similar to passing arguments from the command line.
</P>

<HR>
<H3><A name="note31-08" id="note31-08">Note 31-08: (ENV) Added libenv*.a environment resource library </A></H3>
<P>Added the ENV library, which retrieves a value corresponding to a resource from its resource name. This is used to provide the program with operating environment parameters. Although the library must be recompiled, it is convenient for rewriting parameters and configuring an environment common to several programs.
</P>

<HR>
<H3><A name="note31-09" id="note31-09">Note 31-09: (FS) Corrections to the FS_EndOverlay function.</A></H3>
<P>Due to the operation changes noted in <a href="changelog.html#note28-03">Note 28-03<a>, the destructor for the global object array in the overlay would not start correctly when unloading the overlay. This problem has been fixed.
</P>

<HR>
<H3><A name="note31-10" id="note31-10">Note 31-10: (FS) Corrections to document</A></H3>
<P>Made numerous corrections to the following document explaining the FS library:
<ul>
<li>$NitroSDK/docs/TechnicalNotes/AboutFileSystem.pdf
</ul>
</P>

<HR>
<H3><A name="note31-11" id="note31-11">Note 31-11: (FX) Corrected the FX_FX64C_TO_F32 macro </A></H3>
<P>There was a bug in the FX_FX64C_TO_F32 macro, which converted from fx64c to f32 types. It did not return a precise value. <br> This problem has been fixed.
</P>

<HR>
<H3><A name="note31-12" id="note31-12">Note 31-12: (FX) Corrected problem with FX_InvSqrt function</A></H3>
<P>When the argument passed to the <code>FX_InvSqrt</code> function was greater than a certain value, the calculation would be incorrect. This problem has been fixed.
</P>

<HR>
<H3><A name="note31-13" id="note31-13">Note 31-13: (MB) Added the MB_GetMultiBootDownloadParameter function</A></H3>
<P>In conjunction with the features added in <a href="changelog.html#note27-22">Note 27-22</a>, the <code>MB_GetMultiBootDownloadParameter</code> function was added to reference the user definition expanded parameters when downloading.
</P>

<HR>
<H3><A name="note31-14" id="note31-14">Note 31-14: (NVRAM) Fixed bug with error determination when loading data from NVRAM </A></H3>
<P>When reading data from NVRAM, the read failed when the target read buffer address was greater than 0x02400000. <br> This problem has been fixed.
</P>

<HR>
<H3><A name="note31-15" id="note31-15">Note 31-15: (OS) Added debug output functions on ARM7 side to the Function Reference.</A></H3>
<P>Added information to the Function Reference about the <code>OS_InitPrintServer</code> and  <code>OS_PrintServer</code> functions, which are used for ARM7 debug output. Also added that it is not necessary to use these functions in the application.
</P>

<HR>
<H3><A name="note31-16" id="note31-16">Note 31-16: (OS) Fixed bug in upper address of DTCM arena </A></H3>
<P>There was a problem where the upper address of the DTCM arena is determined. <br> This was caused when a negative value was specified for the stack size in the rsf file. <br> This problem has been fixed.
</P>

<HR>
<H3><A name="note31-17" id="note31-17">Note 31-17: (OS) Added information about the NitroStaticInit function to the Function Reference.</A></H3>
<P>Added an explanation of the <code>NitroStaticInit</code> function to the Function Reference, in line with the addition made in <a href="changelog.html#note27-31">Note 27-31</a>.
</P>

<HR>
<H3><A name="note31-18" id="note31-18">Note 31-18: (OS) Organized const type arguments in function related to OSThread</A></H3>
<P>In functions related to OSThread, we determined and changed some &quot;OSThread*&quot; type arguments to be defined as &quot;const OSThread*.&quot; <br> <br> These are the functions that were changed.
<ul>
<li>OS_IsThreadTerminated function
<li>OS_CheckStack Function
<li>OS_GetThreadPriority Function
<li>OS_GetThreadDestructor Function
<li>OS_GetThreadParameter Function
<li>OS_GetStackStatus Function
<li>OS_DumpThreadCallTrace Function
</ul>
</P>

<HR>
<H3><A name="note31-19" id="note31-19">Note 31-19: (OS) Added OS_GetOpt function.</A></H3>
<P>Added the OS_GetOpt function, which makes it convenient to obtain strings that start with '-' as program execution options from argument data in binary files (e.g., srl files that were embedded using the buryarg tool command). <br> Parameters should come after the options. Added code that uses the OS_GetOpt function in the $NitroSDK/build/demos/os/argument-1 sample demo.
</P>

<HR>
<H3><A name="note31-20" id="note31-20">Note 31-20: (SND) Optimized the cache disabling process.</A></H3>
<P>At the place where the <code>DC_InvalidateRange</code> function is called from the Sound library, the specified range was larger than necessary. This was corrected to be of an appropriate size. This correction reduces the load on the sound process.
</P>

<HR>
<H3><A name="note31-21" id="note31-21">Note 31-21: (WM) Corrected problem in process that detects disconnection during MP communication.</A></H3>
<P>If an MP communications partner disappears (for example, the power gets cut), there is a timeout, after which notification is sent regarding the disconnection. Because of a bug in the timeout process, notification of the disconnection did not occur sometimes. This problem has been fixed.
</P>

<HR>
<H3><A name="note31-22" id="note31-22">Note 31-22: (WM) Added scan types that are performed by specifying the matching length of SSID</A></H3>
<P>Added WM_SCANTYPE_ACTIVE_CUSTOM and WM_SCANTYPE_PASSIVE_CUSTOM to WMScanExParam.scanType. These support special usage that limits SSID matching confirmations performed with the WM_StartScanEx function to certain lengths. <br> When these scanTypes are used, SSID match confirmations will be made only up to the length specified with WMScanExParam.ssidMatchLength. <br> As a result, we changed the WMScanExParam structure.
</P>

<HR>
<H3><A name="note31-23" id="note31-23">Note 31-23: (WM) Corrected scan SSID matching length in infrastructure mode</A></H3>
<P>In infrastructure mode, by specifying SSIDs using WM_StartScanEx during scans, matching confirmation was performed for only the first eight bytes.  <br> We modified it so that matching confirmation is performed for the length specified by WMScanExParam.ssidLength.
</P>

<HR>
<H3><A name="note31-24" id="note31-24">Note 31-24: (WM) Fixed internal process related to connecting to child.</A></H3>
<P>In environments where communications status was extremely bad and the child repeatedly tried to connect to the parent, the parent was put into an abnormal internal state. This problem has been fixed.
</P>

<HR>
<H3><A name="note31-25" id="note31-25">Note 31-25: (WM) Added interface that indicates more detailed information about causes of connection failure time</A></H3>
<P>We added a feature that notifies the status code of the communication partner. This partner uses a callback function to help analyze the cause of failure when a connection fails that is attempting to use WM_StartConnect[Ex]. <br> Specifically, we added the wlStatus member to the WMStartConnectCallback structure. <br> Under normal circumstances there is no need to reference this from the application.
</P>

<HR>
<H3><A name="KnownIssues_3_00_pr4" id="KnownIssues_3_00_pr4">Known problems with SDK 3.0 PR4</A></H3>
<P>
<ul>
<li>We did a test release of the STD library as a library that is compatible with C standard functions. Currently, only some of the functions can be used. However, these are not included in the Function Reference.
</ul>
</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_3_00_pr3" id="sdk_3_00_pr3">NITRO-SDK Version 3.0 PR3</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2005/08/10)</P>
</DIV>

<HR>
<H3><A name="note30-01" id="note30-01">Note 30-01: (CARD) Corrected documentation on CARD_CheckPulledOut function.</A></H3>
<P>Added a statement to the <code>CARD_CheckPulledOut</code> Function Reference page indicating that the <code>CARD_LockRom</code> function must be called and CARD-ROM bus needs to be locked before calling <code>CARD_CheckPulledOut</code>.
</P>

<HR>
<H3><A name="note30-02" id="note30-02">Note 30-02: (CARD)  Argument restriction for CARD_IdentifyBackup function.</A></H3>
<P>Added a restriction so that <code>CARD_BACKUP_TYPE_NOT_USE</code> cannot be specified as the device type passed to the <code>CARD_IdentifyBackup</code> function. This change was added in 3.0 PR, but it was left out of the changelog.
</P>

<HR>
<H3><A name="note30-03" id="note30-03">Note 30-03: (MB) Made corrections to the sample demo.</A></H3>
<P>The following correction was made to the <code>$NitroSDK/build/demos/mb/cloneboot</code> sample:<br>
<ul>
<li>When the <code>ConnectMain</code> function on the parent failed, a reattempt was made without ending the WH module. This problem has been fixed.
</ul>
</P>

<HR>
<H3><A name="note30-04" id="note30-04">Note 30-04: (OS) Added the OS_SetThreadDestructorStack function</A></H3>
<P>Added the <CODE>OS_SetThreadDestructorStack</CODE> function, which specifies the stack used when a thread destructor is executed. <br> If jnone is specified, the stack pointer does not change when its own thread is destroyed. When the thread is destroyed by other threads, the pointer changes to the stack's top address.
</P>

<HR>
<H3><A name="note30-05" id="note30-05">Note 30-05: (OS) Alarm cancel process used in OS_Sleep function</A></H3>
<P>When a thread that was paused with the <CODE>OS_Sleep</CODE> function is destroyed by another thread, the alarm set for the <CODE>OS_Sleep</CODE> function is canceled. <br> Previously, because the alarm was not canceled, the alarm handler was sometimes called needlessly or the alarm list was overwritten.
</P>

<HR>
<H3><A name="note30-06" id="note30-06">Note 30-06: (WM) Changed process during overload on child</A></H3>
<P>We changed the processing during overload on the child because of internal processing conditions. This is related to <a href="changelog.html#note29-08">Note 29-08</a>. <br> Previously, when the child side ARM was overloaded and the transmit data settings were not on time, a null response was generated. This was changed to no response. <br> As a side effect, when a child machine is overloaded, the receive processing is skipped. This impairs communication efficiency slightly but reduces the load.
</P>

<HR>
<H3><A name="note30-07" id="note30-07">Note 30-07: (WM) Changed internal operations during disconnection process.</A></H3>
<P>As mentioned in <a href="changelog-oldver.html#note25-22">Note 25-22</a>, internal operation was changed to wait for the required signal strength to send the disconnection notification when disconnecting. This was changed to time out after a set period of time. This corrects those cases where the process did not end when <code>WMTestTool.srl</code> was used to set the Noise rate to 100%.
</P>

<HR>
<H3><A name="KnownIssues_3_00_pr3" id="KnownIssues_3_00_pr3">Known problems with SDK 3.0 PR3</A></H3>
<P>&nbsp; None.</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_3_00_pr2" id="sdk_3_00_pr2">¦ NITRO-SDK Version 3.0 PR2</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2005/08/04)</P>
</DIV>

<HR>
<H3><A name="note29-01" id="note29-01">Note 29-01: (DevEnv) Corrected path for ISD_NITRO_DEBUGGER.</A></H3>
<P>Corrected the path location that <code>ISD_NITRO_DEBUGGER</code> indicates. This is defined in <code>$NitroSDK/build/buildtools/commondefs.emtype.ISD</code>.
</P>

<HR>
<H3><A name="note29-02" id="note29-02">Note 29-02: (GX) Further corrections to Sub_Double3D sample demo.</A></H3>
<P>The following correction was made to the <code>$NitroSDK/build/demos/gx/UnitTours/Sub_Double3D</code> sample demo: <br> The correction described in <a href="changelog.html#note27-15">Note 27-15</a> was not complete and the same symptoms still appeared occasionally. The problem was corrected again.
</P>

<HR>
<H3><A name="note29-03" id="note29-03">Note 29-03: (GX) Added the qualifier 'const' to the arguments of the functions that get the status of the display list.</A></H3>
<P>The contents of the pointer passed to the arguments of the following functions have not been rewritten. However, the <code>const</code> qualifier has been added to them.
<UL>
<LI><code>G3_GetDLStart</code></LI>
<LI><code>G3_GetDLLength</code></LI>
<LI><code>G3_GetDLSize</code></LI>
</UL>
</P>

<HR>
<H3><A name="note29-04" id="note29-04">Note29-04: (OS) Added OS_GetLowEntropyData function.</A></H3>
<P>We added the <CODE>OS_GetLowEntropyData function</CODE>, which generates and returns different data each time it is executed based on the system status. <br> We also added $NitroSDK/build/demos/os/entropy-1 as a demo.
</P>

<HR>
<H3><A name="note29-05" id="note29-05">Note 29-05: (PM) Corrected the return process after LCD has transitioned from OFF state to sleep mode.</A></H3>
<P>After the transition from the LCD Off state to sleep mode and then back, a discrepancy arose between the actual state and the internal state of the GX library. This problem has been fixed. (Reference:<A href="changelog-oldver.html#note22-23">Note 22-23:(PM) Changed the recovery process after transitioning from LCD OFF state to sleep mode.</A>)
</P>

<HR>
<H3><A name="note29-06" id="note29-06">Note 29-06: (WM) Added notification to WM_SetIndCallback function callback </A></H3>
<P>Added WM_STATECODE_INFORMATION for notification of the callback of WM_SetIndCallback. This provides a notification containing information about the events occurring internally. <br> The contents of the notification are found in the WMIndCallback.reason callback argument. WM_INFOCODE_FATAL_ERROR is defined as a reason value. This value is used when ignoreFatalError in the WM_StartMPEx function is set to TRUE and a fatal error occurred, .
</P>

<HR>
<H3><A name="note29-07" id="note29-07">Note 29-07: (WM) Added WM_SetPowerSaveMode function</A></H3>
<P>Added the WM_SetPowerSaveMode function, which switches to power save mode during infrastructure communication.
</P>

<HR>
<H3><A name="note29-08" id="note29-08">Note 29-08: (WM) Corrected problems with return process when ignoreFatalError has been set.</A></H3>
<P>When the <code>ignoreFatalError</code> argument of the <code>WM_StartMPEx</code> function is set to TRUE, there should be no auto-disconnect even if a fatal error occurs with the child. Despite this, communication would still become unavailable. This problem has been fixed.
</P>

<HR>
<H3><A name="note29-09" id="note29-09">Note 29-09: (WM) Changed receive process on child. </A></H3>
<P>Previously, when a child received an MP frame not addressed to it, the <CODE>WM_StartMP</CODE> function would receive a notification that the &quot;state&quot; was <CODE>WM_STATECODE_MP_IND</CODE> and the <CODE>errcode</CODE> was <CODE>WM_ERRCODE_INVALID_POLLBITMAP</CODE>. This was changed so that no notification is sent at all. <br> The MP ACK frame's <CODE>WM_STATECODE_MPACK_IND</CODE> notification was changed in a similar way. <br> This change does not affect sending and receiving using ports.
</P>

<HR>
<H3><A name="note29-10" id="note29-10">Note 29-10: (WVR) Corrected problem with the thumb build version of the ichneumon component</A></H3>
<P>It was confirmed that programs do not operate when the thumb build version of the ichneumon component is used. This problem has been fixed.
</P>

<HR>
<H3><A name="KnownIssues_3_00_pr2" id="KnownIssues_3_00_pr2">Known problems with SDK 3.0 PR2</A></H3>
<P>&nbsp; None.</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_3_00_pr" id="sdk_3_00_pr">NITRO-SDK Version 3.0 PR</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2005/07/22)</P>
</DIV>

<HR>
<H3><A name="note28-01" id="note28-01">Note 28-01: (Cht) Added Pictocatch demo </A></H3>
<P>Added a sample demo that uses the Pictocatch process to <CODE>$NitroSDK/build/demos/cht/catch-min</CODE>. <br> This sample implements only the bare minimum functionality so that it has less code than the previous PictoCatch sample demos.
</P>

<HR>
<H3><A name="note28-02" id="note28-02">Note 28-02: (DevEnv) Support for nitro.h precompiled headers </A></H3>
<P>We added support for precompiled headers for <CODE>$NitroSDK/include/nitro.h</CODE>. <br> The build system precompiles <CODE>$NitroSDK/include/nitro.h</CODE> before the build and reads the result while building the file. <br> This should result in a faster build. <br> If you want to stop the compilation temporarily, set a value for NITRO_NO_STD_PCHDR.
</P>

<HR>
<H3><A name="note28-03" id="note28-03">Note 28-03: (FS) Changed the operations of the overlay functions.</A></H3>
<P>When there was a global object in an overlay to be unloaded that required a destructor, the destructor was called automatically. This has been changed so that the destructor is not called.
</P>

<HR>
<H3><A name="note28-04" id="note28-04">Note28-04: (GX) Corrected sample demos</A></H3>
<P>In the <CODE>$NitroSDK/build/demos/gx/UnitTours/2D_Oam_256_16</CODE> sample demo, a bug made the +Control Pad unusable in the FINALROM build. <br> This problem has been fixed.
</P>

<HR>
<H3><A name="note28-05" id="note28-05">Note 28-05: (MATH) Accelerated the MD5 functions</A></H3>
<P>Replaced the implementation of the MD5 functions. The code size is about half of what they were before and the functions operate approximately 20% faster compared to the previous implementation. The interface has not been changed. This change was added in 2.2 PR but it was left out of the changelog.
</P>

<HR>
<H3><A name="note28-06" id="note28-06">Note 28-06: (OS) Added mechanism to check for stack overflow in IRQ stack. </A></H3>
<P>Added a mechanism to check for stack overflow in the IRQ mode stack, similar to that in the thread stack. <br> A check code is written at the top and bottom of the stack (or between, if necessary). By checking if these sections are rewritten, it helps to determine if the stack is filled up to those points. <br> <br>Below are the functions that were added for this purpose:
<ul>
<li>OS_SetIrqStackChecker
<li>OS_SetIrqStackWarningOffset
<li>OS_CheckIrqStack
<li>OS_GetIrqStackStatus
</ul>
</P>

<HR>
<H3><A name="note28-07" id="note28-07">Note 28-07: (OS) Added argument support using OS_GetArgc function and OS_GetArgv functions</A></H3>
<P>Added a mechanism that allows you to pass argument data to the ROM file and then obtain this data in the program. <br> You can use the <CODE>$(NitroSDK)/tools/bin/buryarg</CODE> tool to embed argument data. You can then use the data in a program by calling the <CODE>OS_GetArgc</CODE> and <CODE>OS_GetArgv functions</CODE>. By using this feature, you can change the program's execution conditions without recompiling. <br> We added a demo that uses this feature called <CODE>$NitroSDK/build/demos/os/argument-1</CODE>. <br> <br> This feature is provided for debugging purposes and is invalid in FINALROM builds.
</P>

<HR>
<H3><A name="note28-08" id="note28-08">Note 28-08: (OS) OS_KillThread and OS_KillThreadWithPriority functions added</A></H3>
<P>We added the <CODE>OS_KillThread</CODE> and <CODE>OS_KillThreadWithPriority</CODE> functions. These functions terminate other threads. You select which function to use based on whether you want to set the thread priority when terminating the thread. <br> The difference between <CODE>OS_KillThread</CODE> and <CODE>OS_DestroyThread</CODE> is whether the thread destructor of the terminated thread is called.  <br> <br> We added a demo that compares these two functions. It is called <CODE>$NitroSDK/build/demos/os/thread-9</CODE>.
</P>

<HR>
<H3><A name="note28-09" id="note28-09">Note 28-09: (OS) Implementation of thread destructors </A></H3>
<P>We implemented thread destructors that call preset functions when a thread is terminated. <br> The destructors are set using the <CODE>OS_SetThreadDestructor</CODE> function. <br> <br> Thread destructors are called under the following circumstances:
<ul>
<li>A thread's task has executed all the way to the end.
<li>A thread has been terminated with the OS_ExitThread function.
<li>A thread has been terminated by another thread with the OS_KillThread* function.
<li>A thread has terminated itself using the OS_KillThread* function.
</ul>
Thread destructors are not called under the following circumstances:
<ul>
<li>A thread has been terminated by another thread with the OS_DestroyThread function.
<li>A thread has terminated itself using the OS_DestroyThread function.
</ul>
We added a thread destructor demo. It is $NitroSDK/build/demos/os/thread-7.
</P>

<HR>
<H3><A name="note28-10" id="note28-10">Note 28-10: (OS) Added user parameters to thread structure</A></H3>
<P>We added a user parameter member to the OSThread thread structure. <br> The system does not reference or change this area. <br> This may be used for any purpose in each application.  <br> The following functions are for setting and getting thread parameters.
<ul>
<li>OS_SetThreadParameter
<li>OS_GetThreadParameter
</ul>
</P>


<HR>
<H3><A name="note28-11" id="note28-11">Note 28-11: (OS) Removed limit on maximum number of threads </A></H3>
<P>Previously, the maximum number of threads that could be used by the OS at the same time was 16. (Normally the maximum was 16. However, by rewriting the header definitions, it was possible to vary the maximum from 8 to 32.) This limit has been removed. <br> The thread-related APIs have not changed. <br> <br> Reflecting this change, we have added two sample demos that create large numbers of threads: <CODE>$NitroSDK/build/demos/os/thread-8</CODE> and <CODE>$NitroSDK/build/demos/os/thread-10</CODE>.
</P>

<HR>
<H3><A name="KnownIssues_3_00_pr" id="KnownIssues_3_00_pr">Known issues in SDK 3.0 PR</A></H3>
<P>&nbsp; None.</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_2_02_pr" id="sdk_2_02_pr">NITRO-SDK Version 2.2 PR</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2005/07/15)</P>
</DIV>

<HR>
<H3><A name="note27-01" id="note27-01">Note 27-01: (CARD) Added the CARD_CheckPulledOut function.</A></H3>
<P>Added the <code>CARD_CheckPulledOut</code> function, which determines status directly from ARM9. In other words, it does not wait for the notification of the result of the card removal detection process that the ARM7 performs periodically. This function is not needed for normal scenes where the Card is not being accessed. However, in scenes where you need to know without delay that the Card has been removed, you can use this function instead of <code>CARD_IsPulledOut</code>.
</P>

<HR>
<H3><A name="note27-02" id="note27-02">Note 27-02: (CARD) Made Card Library compatible with new backup devices.</A></H3>
<P>Added <code>CARD_BACKUP_TYPE_EEPROM_512KBITS</code> and <code>CARD_BACKUP_TYPE_FRAM_256KBITS</code> to the enumerated type <code>CARDBackupType</code> so the CARD library can support 512 kB EEPROM and 256 kB FRAM as backup devices.
</P>

<HR>
<H3><A name="note27-03" id="note27-03">Note 27-03: (CTRDG) Corrected cache operations when getting cartridge information</A></H3>
<P>Corrected the cache operations involved in the reading of the cartridge information region during the execution of the <CODE>CTRDG_Init</CODE> function. Up until now, when the cartridge information such as the maker and game code was obtained, incorrect values were sometimes returned. This problem has been fixed.
</P>

<HR>
<H3><A name="note27-04" id="note27-04">Note 27-04: (DevEnv) Added the bin2obj tool</A></H3>
<P>Added the bin2obj tool for converting binary files into object files. This tool operates the same way as the BinToElf tool in the CodeWarrior for NINTENDO DS package. You can use either one.
</P>

<HR>
<H3><A name="note27-05" id="note27-05">Note 27-05: (DevEnv) Provided support for CYGWIN cygdrive prefix that is not  /cygdrive.</A></H3>
<P>When a build was performed from the CYGWIN command line, the build would fail if the cygdrive prefix was not <code>/cygdrive</code>, the default setting . Builds are now possible even if the cygdrive prefix has been changed to another value.
</P>

<HR>
<H3><A name="note27-06" id="note27-06">Note 27-06: (DevEnv) Corrected the LCF template.</A></H3>
<P>In programs that used the LCF template in <code>$NitroSDK/include/nitro/specfiles/ARM9-TS-cloneboot-C.lcf.template</code>, the <code>.sinit</code> sections were not linked and the features of the static initializer could not be used. This problem has been fixed.
</P>

<HR>
<H3><A name="note27-07" id="note27-07">Note 27-07: (DevEnv) Corrected problem with the StackSize specification for rsf.</A></H3>
<P>With <code>StackSize</code> specified in <code>rsf</code> (linker spec file), subtracting the absolute value from the maximum possible specified size when a negative number was provided as the first parameter was not valid. This problem has been fixed.
</P>

<HR>
<H3><A name="note27-08" id="note27-08">Note 27-08: (DevEnv) Changed the default value for TS_VERSION.</A></H3>
<P>Changed the default value of the <code>SDK_TS_VERSION</code> constant that indicates the PMIC version. The value was 100; it has been changed to 200. <code>SDK_TS_VERSION</code> = 200 appears in versions E and later for the IS-NITRO-EMULATOR hardware. It corresponds to the PMIC version embedded in the Nintendo DS retail product. This change does not alter the internal operations of the NITRO-SDK features. However, this could affect applications that use this constant as a build switch for changing behavior (such as sample demos that use the microphone) . When <code>NITRO_TS_VERSION</code> is specified as the environment variable, <code>SDK_TS_VERSION</code> takes the specified value, not the default value. <br> NITRO-SDK has an OS and an SPI library prepared for every TS_VERSION.<br> This is relevant when the development environment uses the TS breadboard, etc. and has owner information in an old save format. However, when the save format is the same as that used for the retail DS system, the library is exactly the same.<br> When the make system is used, the library for linking is selected automatically based on the environment variable. But in a development environment using an IDE, you need to manually select which library to link. <br> Nonetheless, except in cases where the development environment used the TS breadboard, etc., there is really no meaning to selecting a library. Consequently, it is all right to use the library that is linked by default.
</P>

<HR>
<H3><A name="note27-09" id="note27-09">Note 27-09: (DevEnv) Changed the #include search path.</A></H3>
<P>Changed the <code>#include</code> search path when building with <code>Makefile</code> to include the directory of the file that called <code>#include</code>. If the previous search path is required, enter a directive such as <code>MACRO_FLAGS += -cwd proj</code> inside <code>Makefile</code>.
</P>

<HR>
<H3><A name="note27-10" id="note27-10">Note 27-10: (FS) Added the functions FS_CreateFileFromMemory and FS_CreateFileFromRom.</A></H3>
<P>Added the <code>FS_CreateFileFromMemory</code> function and <code>FS_CreateFileFromRom</code> function to treat a specific memory region or Card as a temporary file to open it. Also added the sample demo <code>$NitroSDK/build/demos/fs/file-3</code> that demonstrates the operation of these functions.
</P>

<HR>
<H3><A name="note27-11" id="note27-11">Note 27-11: (FS) Added the FS_End function.</A></H3>
<P>Added the <code>FS_End</code> function to return the state to what it was before the FS library was initialized.
</P>

<HR>
<H3><A name="note27-12" id="note27-12">Note 27-12: (FS) Corrected problem with the FS_WaitAsync function.</A></H3>
<P>When the <code>FS_WaitAsync</code> function was called for a file handle and an asynchronous command was not yet processing in the archive, the archive processing would stop. This problem has been fixed.
</P>

<HR>
<H3><A name="note27-13" id="note27-13">Note 27-13: (FS) Corrected problem during overlay unloading.</A></H3>
<P>When the <code>FS_UnloadOverlay</code> or <code>FS_EndOverlay</code> function unloaded an overlay, the destructor was not called correctly. This problem has been fixed. This applies to objects when both of the following are true:
<ul>
<li>Placed in the overlay's <code>*.data</code> section.
<li>The entity of the destructor is not placed in the overlay.
</ul>
</P>
<HR>
<H3><A name="note27-14" id="note27-14">Note 27-14: (FX) Corrected problem with the arctangent functions.</A></H3>
<P>The arctangent functions below returned incorrect values when the (x,y) slope was extremely close to 1. This problem has been fixed.
<ul>
<li>FX_Atan2
<li>FX_Atan2Idx
</ul>
This applies to (x,y) when the following conditions are met:<br> ((x != y) &amp;&amp; (FX_Div(y, x) == FX32_ONE))
</P>

<HR>
<H3><A name="note27-15" id="note27-15">Note 27-15: (GX) Corrected the Sub_Double3D sample demo.</A></H3>
<P>The following correction was made to the <code>$NitroSDK/build/demos/gx/UnitTours/Sub_Double3D</code> sample demo: <br> When double screen 3D and a heavy load process were put together, the image on the upper screen would occasionally instantly wrap around to the bottom screen (or vice versa). This problem has been fixed.
</P>

<HR>
<H3><A name="note27-16" id="note27-16">Note 27-16: (GX) Corrected problem with ASSERT inside functions that manipulate display lists.</A></H3>
<P>When the <code>G3C_UpdateGXDLInfo</code> and <code>G3B_UpdateGXDLInfo</code> functions were called from inside functions that manipulate display lists, ASSERT would be applied when a display list was being created that was the same size as the buffer. This problem has been fixed.
</P>

<HR>
<H3><A name="note27-17" id="note27-17">Note 27-17: (MATH) Corrected problem with the MATH_QSort  function.</A></H3>
<P>When sorting with the <code>MATH_QSort</code> function, the function would sometimes access the target array out of bounds. This problem has been fixed.
</P>

<HR>
<H3><A name="note27-18" id="note27-18">Note 27-18: (MATH)  Accelerated the SHA-1 functions.</A></H3>
<P>Replaced the implementation of the SHA-1 functions. The code size has hardly changed, but they run approximately twice as fast as before. The interface has not been changed.
</P>

<HR>
<H3><A name="note27-19" id="note27-19">Note 27-19: (MATH) Added Fast Fourier Transform functions.</A></H3>
<P>Added functions that perform fast Fourier transforms. Also added the demos <code>$NitroSDK/build/demos/math/fft-1</code> and <code>fft-2</code> to confirm the operation of these functions.
</P>

<HR>
<H3><A name="note27-20" id="note27-20">Note 27-20: (MB) Added multiboot-wfs sample.</A></H3>
<P>Added <code>$NitroSDK/build/demos/mb/multiboot-wfs</code> as a sample of a child in Single-Card Play using the file system over wireless communication.
</P>

<HR>
<H3><A name="note27-21" id="note27-21">Note 27-21: (MB) Released the debug use expanded memory region.</A></H3>
<P>For a child booted with the MB protocol, there was a restriction that prevented the use of expanded memory and forcibly set main memory to 4 MB. This restriction has been removed, thus enabling the use of expanded memory by IS-NITRO-EMULATOR and other hardware that has 8 MB of main memory.
</P>

<HR>
<H3><A name="note27-22" id="note27-22">Note 27-22: (MB) Added user definition expanded parameters.</A></H3>
<P>Added the <code>userParam</code> member to the <code>MBGameRegistry</code> structure. Store as much as 32 bytes of any kind of data in this buffer. Use the <code>MB_RegisterFile</code> function to allow a Single-Card Play child to reference this data after startup.
</P>

<HR>
<H3><A name="note27-23" id="note27-23">Note 27-23: (MI) Corrected problems with the MI_CompressHuffman function and Hufmann compression by ntrcomo.exe.</A></H3>
<P>The <code>MI_CompressHuffman</code> function and <code>ntrcomp.exe</code> had a bug that sometimes caused abnormal compression of data that was filled with a single value. This problem has been fixed.
</P>

<HR>
<H3><A name="note27-24" id="note27-24">Note 27-24: (OS) Corrected internal operation of <code>OS_Sleep</code> function</A></H3>
<P>If  the <code>OS_WakeupThreadDirect</code> function was called for a thread that was in the wait state after a call to the <code>OS_Sleep</code> function, there would be problems with the alarms.  This problem has been fixed.
</P>

<HR>
<H3><A name="note27-25" id="note27-25">Note 27-25: (OS) Corrected problem with the OS_TryLockMutex function.</A></H3>
<P>There were errors in the list operations on the mutex stored in the OS when the mutex was locked by the <code>OS_TryLockMutex</code> function. As a result, sometimes the <code>OS_UnlockMutex</code> function would cause exceptions. Problems would also arise when a thread ended while the mutex was still locked. This problem has been fixed. Note that the <code>OS_LockMutex</code> function (which is different from the <code>OS_TryLockMutex</code> function just mentioned) works correctly and has no problems.
</P>

<HR>
<H3><A name="note27-26" id="note27-26">Note 27-26: (OS) Added the OS_YieldThread function.</A></H3>
<P>Added the <code>OS_YieldThread</code> function. This function performs thread rescheduling. It also gives executable threads with the same priority level as the current thread an opportunity to execute.
</P>

<HR>
<H3><A name="note27-27" id="note27-27">Note 27-27: (OS) Made internal corrections to initialization process at startup time.</A></H3>
<P>Corrected the internal processes that confirm that the cache has been cleaned/invalidated at program startup for <I>autoload</I> and at the initialization of each segment.
</P>

<HR>
<H3><A name="note27-28" id="note27-28">Note 27-28: (OS) Expanded the startup screen process for Chinese language version.</A></H3>
<P>The startup screen display process for Chinese language applications can be modified with <code>SDK_WEAK_SYMBOL</code> and made public with the <code>OS_ShowAttentionChina</code> function. Its implementation can be changed with external definitions. <br> In conjunction with this, added the sample <CODE>$NitroSDK/build/demos/os/forChina-fs</CODE> to show how to load the data for images that are used only at startup from the file system without a static link.
</P>

<HR>
<H3><A name="note27-29" id="note27-29">Note 27-29: (OS) Corrected problems with flushing the data cache.</A></H3>
<P>The cause of the bugs mentioned in <a href="changelog-oldver.html#note24-10">Note 24-10</a> and <a href="changelog-oldver.html#note25-16">Note 25-16</a> has been clarified.  Along with this, the internal implementation of the functions <code>DC_FlushRange</code> and <code>DC_FlushAll</code> have been changed so that the CPU flush command is works properly. Specifically, a command to wait for the write buffer to be empty had been inserted immediately before the flush command and when returning from the interrupt handler. This was done in order to avoid the symptoms of the problem, which was that a clean cache line would be invalidated when the flush command was executed if the write buffer was full. The function specifications have not changed.
</P>

<HR>
<H3><A name="note27-30" id="note27-30">Note 27-30: (OS) Corrected problem when multiple OSMutexes are locked.</A></H3>
<P>There was a problem with the list processing of mutexes stored in OSMutex. Specifically, a problem arose when a thread used the <code>OS_LockMutex</code> or <code>OS_TryLockMutex</code> function to lock more than one <code>OSMutex</code> at the same time. This problem has been fixed. <br>The problem does not occur if a thread locks only one OSMutex at a time.
</P>

<HR>
<H3><A name="note27-31" id="note27-31">Note 27-31: (OS) Added information about header files to the Function Reference.</A></H3>
<P>Added explanations about the main items and the special features of the NITRO-SDK header files in the OS category of the Function Reference. Explanations were added about the following files:
<ul>
<li><code>nitro.h</code>
<li><code>nitro_win32.h</code>
<li><code>nitro/sinit.h</code>
<li><code>nitro/code32.h, nitro/code16.h, nitro/codereset.h</code>
<li><code>nitro/dtcm_begin.h, nitro/dtcm_end.h</code>
<li><code>nitro/itcm_begin.h, nitro/itcm_end.h</code>
<li><code>nitro/parent_begin.h, nitro/parent_end.h</code>
<li><code>nitro/version_begin.h, nitro/version_end.h</code>
<li><code>nitro/wram_begin.h, nitro/wram_end.h</code>
<li><code>nitro/version.h</code>
</ul>
</P>

<HR>
<H3><A name="note27-32" id="note27-32">Note 27-32: (RTC) Added functions to convert back and forth between date/time and total elapsed time in seconds.</A></H3>
<P>Added functions to the RTC category that convert between type <code>RTCDate</code> and <code>RTCTime</code> date/time data and the total number of seconds that have elapsed since January 1, 2000. Also added functions that convert between type <code>RTCDate</code> data and the total number of days that have elapsed. The demo that can be used to confirm these operations is <code>$NitroSDK/build/demos/rtc/convert-1</code>.
</P>

<HR>
<H3><A name="note27-33" id="note27-33">Note 27-33: (RTC) Added restrictions to functions for changing date and time.</A></H3>
<P>Functions have been created for debugging purposes that can change the RTC's date and time. To avoid incorrect use of these APIs in non-debugging applications, a restriction has been introduced that causes any request to write to the RTC to fail if <code>NITRO_FINALROM</code> has been specified. Following are the functions whose operations have been changed:
<ul>
<li>RTC_SetDateTimeAsync
<li>RTC_SetDateTime
<li>RTC_SetTimeAsync
<li>RTC_SetTime
<li>RTC_SetDateAsync
<li>RTC_SetDate
</ul>
</P>

<HR>
<H3><A name="note27-34" id="note27-34">Note 27-34: (WBT) Corrected wbt-fs sample demo</A></H3>
<P>The following correction was made to the sample demo <code>$NitroSDK/build/demos/wbt/wbt-fs</code>: <br> Table memory processed with the FS_LoadTable function would not be released with every connection and disconnection, thus causing memory leaks. This problem has been fixed.
</P>

<HR>
<H3><A name="note27-35" id="note27-35">Note 27-35: (WBT) Corrected WBT sample demos</A></H3>
<P>The following changes were made to the <code>$NitroSDK/build/demos/wireless_shared/wc</code> sample module and the <code>$NitroSDK/build/demos/wbt/wbt-1</code> demo: <br> During continuous MP communications, the wireless parent would unconditionally overwrite the Send buffer when a new child was connected. Depending on the timing, data would be sent to wireless hardware while data was being loaded to the Send buffer. This would result in WBT packet mismatches. This problem has been fixed. <br> To fix the problem, a process was added to <CODE>$NitroSDK/build/demos/wbt/wbt-1/src/main.c</CODE> that defines one of three actions for the WBT parent to take based on the information it has on the current child connection situation:<br>  1) If it is the first child, begin MP communications. <br> 2) If it is the second or later child, do nothing. (It is all right to do nothing, since continuous MP communications are taking place.)<br>3) If there is no child, terminate continuous MP communications.<br> <br> <br>Since the above process requires information about the disconnection of child units, <CODE>$NitroSDK/build/demos/wireless_shared/wc/wc.c</CODE> has been changed so that a callback is called on the sample side when a child is disconnected.
</P>

<HR>
<H3><A name="note27-36" id="note27-36">Note 27-36: (WM) Clarified the specification changes and planned deletion of Key Sharing functions.</A></H3>
<P>In order to reduce the amount of memory used by WM, the specifications have been changed for these three functions that are almost never used: <code>WM_StartKeySharing</code>, <code>WM_EndKeySharing</code> and <code>WM_GetKeySet</code>. Along with this change, a fixed buffer for Key Sharing is now obtained when WM is initialized. In addition, since the Key Sharing features are scheduled to be deleted at a later date, a section was added to the document asking that programmers instead use the functions <code>WM_StartDataSharing</code>, <code>WM_EndDataSharing</code>, and <code>WM_StepDataSharing</code>.
</P>

<HR>
<H3><A name="note27-37" id="note27-37">Note 27-37: (WM) Changed the internal operations of the WM_StartScanEx function.</A></H3>
<P>It has been determined that when an SSID filter is specified by the <code>WM_StartScanEx</code> function, the SSID inside the discovered parent information sometimes has invalid data that differs from the specified SSID. To deal with this problem, a process has been added inside the WM library that, when necessary, overwrites the filter-specified SSID with the SSID inside the discovered parent information. <br>Note that this happens only when the parent is using infrastructure mode communications and is hiding its SSID.
</P>

<HR>
<H3><A name="note27-38" id="note27-38">Note 27-38: (WM) Updated WMTestTool.srl</A></H3>
<P>Updated the tool that is used for testing wireless communications: <code>NitroSDK/bin/ARM9-TS/Rom/WMTestTool.srl</code>. Previously, when an access point was discovered during scanning, the message &quot;WLAN AP&quot; was displayed. This has been changed so that now the SSID is displayed. This was was implemented for both Scan Test mode and ScanEx Test mode.
</P>

<HR>
<H3><A name="note27-39" id="note27-39">Note 27-39: (WM) Deferred MP communication when child not connected.</A></H3>
<P>Previously, when the wireless communications parent called the <code>WM_StartMP</code> function, it would send an MP frame even if no child was connected. This has been changed so the parent does not do this. The basic behavior of the port's send/receive callbacks has not changed.
</P>

<HR>
<H3><A name="note27-40" id="note27-40">Note 27-40: (WM) Corrected problem with notification when child disconnects</A></H3>
<P>During MP communications, when the child responded with nothing but NULL and the communication timed out, the notification <code>WM_STATECODE_DISCONNECTED</code> would be posted multiple times to the parent's callback <code>WMStartParentCallback</code>. This problem has been fixed. <br>This problem occurred mainly when a child was started by IS-NITRO-DEBUGGER and was paused for a long time during MP communications.
</P>

<HR>
<H3><A name="note27-41" id="note27-41">Note 27-41: (WM) Added restriction on number of MP communication transmissions per frame.</A></H3>
<P>Previously, during continuous communications mode and after communications failed repeatedly, transmissions would continue. However, in a situation where only empty data is being sent and received, the number of MP communication transmissions grows rapidly and the child's data-receiving process cannot keep up. This can trigger problems. To mitigate this problem, a restriction has been set that limits the number of MP communication transmissions that the parent can send in a single frame to 6 (including resends). This restriction is not placed on normal communications.
</P>

<HR>
<H3><A name="KnownIssues_2_02_pr" id="KnownIssues_2_02_pr">Known issues in SDK 2.2 PR</A></H3>
<P>&nbsp; None.</P>

<HR>
<P style="text-align: right">Nintendo Technical Support Center</P>
<hr>
<P>CONFIDENTIAL</P>
</BODY>
</HTML>